{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/series/points/candlestick_point.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { extend as _extend } from \"../../../core/utils/extend\";\nimport symbolPoint from \"./symbol_point\";\nimport barPoint from \"./bar_point\";\nvar _math = Math;\nvar _abs = _math.abs;\nvar _min = _math.min;\nvar _max = _math.max;\nvar _round = _math.round;\nvar DEFAULT_FINANCIAL_TRACKER_MARGIN = 2;\nexport default _extend({}, barPoint, {\n  _getContinuousPoints: function (openCoord, closeCoord) {\n    var x = this.x;\n    var createPoint = this._options.rotated ? function (x, y) {\n      return [y, x];\n    } : function (x, y) {\n      return [x, y];\n    };\n    var width = this.width;\n    var highCoord = this.highY;\n    var max = _abs(highCoord - openCoord) < _abs(highCoord - closeCoord) ? openCoord : closeCoord;\n    var min = max === closeCoord ? openCoord : closeCoord;\n    var points;\n\n    if (min === max) {\n      points = [].concat(createPoint(x, this.highY)).concat(createPoint(x, this.lowY)).concat(createPoint(x, this.closeY)).concat(createPoint(x - width / 2, this.closeY)).concat(createPoint(x + width / 2, this.closeY)).concat(createPoint(x, this.closeY));\n    } else {\n      points = [].concat(createPoint(x, this.highY)).concat(createPoint(x, max)).concat(createPoint(x + width / 2, max)).concat(createPoint(x + width / 2, min)).concat(createPoint(x, min)).concat(createPoint(x, this.lowY)).concat(createPoint(x, min)).concat(createPoint(x - width / 2, min)).concat(createPoint(x - width / 2, max)).concat(createPoint(x, max));\n    }\n\n    return points;\n  },\n  _getCrockPoints: function (y) {\n    var x = this.x;\n    var createPoint = this._options.rotated ? function (x, y) {\n      return [y, x];\n    } : function (x, y) {\n      return [x, y];\n    };\n    return [].concat(createPoint(x, this.highY)).concat(createPoint(x, this.lowY)).concat(createPoint(x, y)).concat(createPoint(x - this.width / 2, y)).concat(createPoint(x + this.width / 2, y)).concat(createPoint(x, y));\n  },\n  _getPoints: function () {\n    var points;\n    var closeCoord = this.closeY;\n    var openCoord = this.openY;\n\n    if (null !== closeCoord && null !== openCoord) {\n      points = this._getContinuousPoints(openCoord, closeCoord);\n    } else if (openCoord === closeCoord) {\n      points = [this.x, this.highY, this.x, this.lowY];\n    } else {\n      points = this._getCrockPoints(null !== openCoord ? openCoord : closeCoord);\n    }\n\n    return points;\n  },\n  getColor: function () {\n    return this._isReduction ? this._options.reduction.color : this._styles.normal.stroke || this.series.getColor();\n  },\n  _drawMarkerInGroup: function (group, attributes, renderer) {\n    this.graphic = renderer.path(this._getPoints(), \"area\").attr({\n      \"stroke-linecap\": \"square\"\n    }).attr(attributes).data({\n      \"chart-data-point\": this\n    }).sharp().append(group);\n  },\n  _fillStyle: function () {\n    var styles = this._options.styles;\n\n    if (this._isReduction && this._isPositive) {\n      this._styles = styles.reductionPositive;\n    } else if (this._isReduction) {\n      this._styles = styles.reduction;\n    } else if (this._isPositive) {\n      this._styles = styles.positive;\n    } else {\n      this._styles = styles;\n    }\n  },\n  _getMinTrackerWidth: function () {\n    return 2 + 2 * this._styles.normal[\"stroke-width\"];\n  },\n  correctCoordinates: function (correctOptions) {\n    var minWidth = this._getMinTrackerWidth();\n\n    var width = correctOptions.width;\n    width = width < minWidth ? minWidth : width > 10 ? 10 : width;\n    this.width = width + width % 2;\n    this.xCorrection = correctOptions.offset;\n  },\n  _getMarkerGroup: function (group) {\n    var markerGroup;\n\n    if (this._isReduction && this._isPositive) {\n      markerGroup = group.reductionPositiveMarkersGroup;\n    } else if (this._isReduction) {\n      markerGroup = group.reductionMarkersGroup;\n    } else if (this._isPositive) {\n      markerGroup = group.defaultPositiveMarkersGroup;\n    } else {\n      markerGroup = group.defaultMarkersGroup;\n    }\n\n    return markerGroup;\n  },\n  _drawMarker: function (renderer, group) {\n    this._drawMarkerInGroup(this._getMarkerGroup(group), this._getStyle(), renderer);\n  },\n  _getSettingsForTracker: function () {\n    var highY = this.highY;\n    var lowY = this.lowY;\n    var rotated = this._options.rotated;\n    var x;\n    var y;\n    var width;\n    var height;\n\n    if (highY === lowY) {\n      highY = rotated ? highY + DEFAULT_FINANCIAL_TRACKER_MARGIN : highY - DEFAULT_FINANCIAL_TRACKER_MARGIN;\n      lowY = rotated ? lowY - DEFAULT_FINANCIAL_TRACKER_MARGIN : lowY + DEFAULT_FINANCIAL_TRACKER_MARGIN;\n    }\n\n    if (rotated) {\n      x = _min(lowY, highY);\n      y = this.x - this.width / 2;\n      width = _abs(lowY - highY);\n      height = this.width;\n    } else {\n      x = this.x - this.width / 2;\n      y = _min(lowY, highY);\n      width = this.width;\n      height = _abs(lowY - highY);\n    }\n\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    };\n  },\n  _getGraphicBBox: function (location) {\n    var rotated = this._options.rotated;\n    var x = this.x;\n    var width = this.width;\n    var lowY = this.lowY;\n    var highY = this.highY;\n\n    if (location) {\n      var valVisibleArea = this.series.getValueAxis().getVisibleArea();\n      highY = this._truncateCoord(highY, valVisibleArea);\n      lowY = this._truncateCoord(lowY, valVisibleArea);\n    }\n\n    var bBox = {\n      x: !rotated ? x - _round(width / 2) : lowY,\n      y: !rotated ? highY : x - _round(width / 2),\n      width: !rotated ? width : highY - lowY,\n      height: !rotated ? lowY - highY : width\n    };\n\n    if (location) {\n      var isTop = \"top\" === location;\n\n      if (!this._options.rotated) {\n        bBox.y = isTop ? bBox.y : bBox.y + bBox.height;\n        bBox.height = 0;\n      } else {\n        bBox.x = isTop ? bBox.x + bBox.width : bBox.x;\n        bBox.width = 0;\n      }\n    }\n\n    return bBox;\n  },\n  getTooltipParams: function (location) {\n    if (this.graphic) {\n      var minValue = _min(this.lowY, this.highY);\n\n      var maxValue = _max(this.lowY, this.highY);\n\n      var visibleArea = this._getVisibleArea();\n\n      var rotated = this._options.rotated;\n      var minVisible = rotated ? visibleArea.minX : visibleArea.minY;\n      var maxVisible = rotated ? visibleArea.maxX : visibleArea.maxY;\n\n      var min = _max(minVisible, minValue);\n\n      var max = _min(maxVisible, maxValue);\n\n      var centerCoord = this.getCenterCoord();\n\n      if (\"edge\" === location) {\n        centerCoord[rotated ? \"x\" : \"y\"] = rotated ? max : min;\n      }\n\n      centerCoord.offset = 0;\n      return centerCoord;\n    }\n  },\n\n  getCenterCoord() {\n    if (this.graphic) {\n      var x;\n      var y;\n\n      var minValue = _min(this.lowY, this.highY);\n\n      var maxValue = _max(this.lowY, this.highY);\n\n      var visibleArea = this._getVisibleArea();\n\n      var rotated = this._options.rotated;\n      var minVisible = rotated ? visibleArea.minX : visibleArea.minY;\n      var maxVisible = rotated ? visibleArea.maxX : visibleArea.maxY;\n\n      var min = _max(minVisible, minValue);\n\n      var max = _min(maxVisible, maxValue);\n\n      var center = min + (max - min) / 2;\n\n      if (rotated) {\n        y = this.x;\n        x = center;\n      } else {\n        x = this.x;\n        y = center;\n      }\n\n      return {\n        x: x,\n        y: y\n      };\n    }\n  },\n\n  hasValue: function () {\n    return null !== this.highValue && null !== this.lowValue;\n  },\n  hasCoords: function () {\n    return null !== this.x && null !== this.lowY && null !== this.highY;\n  },\n  _translate: function () {\n    var rotated = this._options.rotated;\n\n    var valTranslator = this._getValTranslator();\n\n    var x = this._getArgTranslator().translate(this.argument);\n\n    this.vx = this.vy = this.x = null === x ? x : x + (this.xCorrection || 0);\n    this.openY = null !== this.openValue ? valTranslator.translate(this.openValue) : null;\n    this.highY = valTranslator.translate(this.highValue);\n    this.lowY = valTranslator.translate(this.lowValue);\n    this.closeY = null !== this.closeValue ? valTranslator.translate(this.closeValue) : null;\n    var centerValue = _min(this.lowY, this.highY) + _abs(this.lowY - this.highY) / 2;\n\n    this._calculateVisibility(!rotated ? this.x : centerValue, !rotated ? centerValue : this.x);\n  },\n  getCrosshairData: function (x, y) {\n    var rotated = this._options.rotated;\n    var origY = rotated ? x : y;\n    var yValue;\n    var argument = this.argument;\n    var coords;\n    var coord = \"low\";\n\n    if (_abs(this.lowY - origY) < _abs(this.closeY - origY)) {\n      yValue = this.lowY;\n    } else {\n      yValue = this.closeY;\n      coord = \"close\";\n    }\n\n    if (_abs(yValue - origY) >= _abs(this.openY - origY)) {\n      yValue = this.openY;\n      coord = \"open\";\n    }\n\n    if (_abs(yValue - origY) >= _abs(this.highY - origY)) {\n      yValue = this.highY;\n      coord = \"high\";\n    }\n\n    if (rotated) {\n      coords = {\n        y: this.vy,\n        x: yValue,\n        xValue: this[coord + \"Value\"],\n        yValue: argument\n      };\n    } else {\n      coords = {\n        x: this.vx,\n        y: yValue,\n        xValue: argument,\n        yValue: this[coord + \"Value\"]\n      };\n    }\n\n    coords.axis = this.series.axis;\n    return coords;\n  },\n  _updateData: function (data) {\n    var label = this._label;\n    var reductionColor = this._options.reduction.color;\n    this.value = this.initialValue = data.reductionValue;\n    this.originalValue = data.value;\n    this.lowValue = this.originalLowValue = data.lowValue;\n    this.highValue = this.originalHighValue = data.highValue;\n    this.openValue = this.originalOpenValue = data.openValue;\n    this.closeValue = this.originalCloseValue = data.closeValue;\n    this._isPositive = data.openValue < data.closeValue;\n    this._isReduction = data.isReduction;\n\n    if (this._isReduction) {\n      label.setColor(reductionColor);\n    }\n  },\n  _updateMarker: function (animationEnabled, style, group) {\n    var graphic = this.graphic;\n    graphic.attr({\n      points: this._getPoints()\n    }).smartAttr(style).sharp();\n    group && graphic.append(this._getMarkerGroup(group));\n  },\n  _getLabelFormatObject: function () {\n    return {\n      openValue: this.openValue,\n      highValue: this.highValue,\n      lowValue: this.lowValue,\n      closeValue: this.closeValue,\n      reductionValue: this.initialValue,\n      argument: this.initialArgument,\n      value: this.initialValue,\n      seriesName: this.series.name,\n      originalOpenValue: this.originalOpenValue,\n      originalCloseValue: this.originalCloseValue,\n      originalLowValue: this.originalLowValue,\n      originalHighValue: this.originalHighValue,\n      originalArgument: this.originalArgument,\n      point: this\n    };\n  },\n  _getFormatObject: function (tooltip) {\n    var highValue = tooltip.formatValue(this.highValue);\n    var openValue = tooltip.formatValue(this.openValue);\n    var closeValue = tooltip.formatValue(this.closeValue);\n    var lowValue = tooltip.formatValue(this.lowValue);\n    var symbolMethods = symbolPoint;\n\n    var formatObject = symbolMethods._getFormatObject.call(this, tooltip);\n\n    return _extend({}, formatObject, {\n      valueText: \"h: \" + highValue + (\"\" !== openValue ? \" o: \" + openValue : \"\") + (\"\" !== closeValue ? \" c: \" + closeValue : \"\") + \" l: \" + lowValue,\n      highValueText: highValue,\n      openValueText: openValue,\n      closeValueText: closeValue,\n      lowValueText: lowValue\n    });\n  },\n  getMaxValue: function () {\n    return this.highValue;\n  },\n  getMinValue: function () {\n    return this.lowValue;\n  }\n});","map":{"version":3,"sources":["/Users/rahulsharma/node_modules/devextreme/esm/viz/series/points/candlestick_point.js"],"names":["extend","_extend","symbolPoint","barPoint","_math","Math","_abs","abs","_min","min","_max","max","_round","round","DEFAULT_FINANCIAL_TRACKER_MARGIN","_getContinuousPoints","openCoord","closeCoord","x","createPoint","_options","rotated","y","width","highCoord","highY","points","concat","lowY","closeY","_getCrockPoints","_getPoints","openY","getColor","_isReduction","reduction","color","_styles","normal","stroke","series","_drawMarkerInGroup","group","attributes","renderer","graphic","path","attr","data","sharp","append","_fillStyle","styles","_isPositive","reductionPositive","positive","_getMinTrackerWidth","correctCoordinates","correctOptions","minWidth","xCorrection","offset","_getMarkerGroup","markerGroup","reductionPositiveMarkersGroup","reductionMarkersGroup","defaultPositiveMarkersGroup","defaultMarkersGroup","_drawMarker","_getStyle","_getSettingsForTracker","height","_getGraphicBBox","location","valVisibleArea","getValueAxis","getVisibleArea","_truncateCoord","bBox","isTop","getTooltipParams","minValue","maxValue","visibleArea","_getVisibleArea","minVisible","minX","minY","maxVisible","maxX","maxY","centerCoord","getCenterCoord","center","hasValue","highValue","lowValue","hasCoords","_translate","valTranslator","_getValTranslator","_getArgTranslator","translate","argument","vx","vy","openValue","closeValue","centerValue","_calculateVisibility","getCrosshairData","origY","yValue","coords","coord","xValue","axis","_updateData","label","_label","reductionColor","value","initialValue","reductionValue","originalValue","originalLowValue","originalHighValue","originalOpenValue","originalCloseValue","isReduction","setColor","_updateMarker","animationEnabled","style","smartAttr","_getLabelFormatObject","initialArgument","seriesName","name","originalArgument","point","_getFormatObject","tooltip","formatValue","symbolMethods","formatObject","call","valueText","highValueText","openValueText","closeValueText","lowValueText","getMaxValue","getMinValue"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/viz/series/points/candlestick_point.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extend as _extend\r\n} from \"../../../core/utils/extend\";\r\nimport symbolPoint from \"./symbol_point\";\r\nimport barPoint from \"./bar_point\";\r\nvar _math = Math;\r\nvar _abs = _math.abs;\r\nvar _min = _math.min;\r\nvar _max = _math.max;\r\nvar _round = _math.round;\r\nvar DEFAULT_FINANCIAL_TRACKER_MARGIN = 2;\r\nexport default _extend({}, barPoint, {\r\n    _getContinuousPoints: function(openCoord, closeCoord) {\r\n        var x = this.x;\r\n        var createPoint = this._options.rotated ? function(x, y) {\r\n            return [y, x]\r\n        } : function(x, y) {\r\n            return [x, y]\r\n        };\r\n        var width = this.width;\r\n        var highCoord = this.highY;\r\n        var max = _abs(highCoord - openCoord) < _abs(highCoord - closeCoord) ? openCoord : closeCoord;\r\n        var min = max === closeCoord ? openCoord : closeCoord;\r\n        var points;\r\n        if (min === max) {\r\n            points = [].concat(createPoint(x, this.highY)).concat(createPoint(x, this.lowY)).concat(createPoint(x, this.closeY)).concat(createPoint(x - width / 2, this.closeY)).concat(createPoint(x + width / 2, this.closeY)).concat(createPoint(x, this.closeY))\r\n        } else {\r\n            points = [].concat(createPoint(x, this.highY)).concat(createPoint(x, max)).concat(createPoint(x + width / 2, max)).concat(createPoint(x + width / 2, min)).concat(createPoint(x, min)).concat(createPoint(x, this.lowY)).concat(createPoint(x, min)).concat(createPoint(x - width / 2, min)).concat(createPoint(x - width / 2, max)).concat(createPoint(x, max))\r\n        }\r\n        return points\r\n    },\r\n    _getCrockPoints: function(y) {\r\n        var x = this.x;\r\n        var createPoint = this._options.rotated ? function(x, y) {\r\n            return [y, x]\r\n        } : function(x, y) {\r\n            return [x, y]\r\n        };\r\n        return [].concat(createPoint(x, this.highY)).concat(createPoint(x, this.lowY)).concat(createPoint(x, y)).concat(createPoint(x - this.width / 2, y)).concat(createPoint(x + this.width / 2, y)).concat(createPoint(x, y))\r\n    },\r\n    _getPoints: function() {\r\n        var points;\r\n        var closeCoord = this.closeY;\r\n        var openCoord = this.openY;\r\n        if (null !== closeCoord && null !== openCoord) {\r\n            points = this._getContinuousPoints(openCoord, closeCoord)\r\n        } else if (openCoord === closeCoord) {\r\n            points = [this.x, this.highY, this.x, this.lowY]\r\n        } else {\r\n            points = this._getCrockPoints(null !== openCoord ? openCoord : closeCoord)\r\n        }\r\n        return points\r\n    },\r\n    getColor: function() {\r\n        return this._isReduction ? this._options.reduction.color : this._styles.normal.stroke || this.series.getColor()\r\n    },\r\n    _drawMarkerInGroup: function(group, attributes, renderer) {\r\n        this.graphic = renderer.path(this._getPoints(), \"area\").attr({\r\n            \"stroke-linecap\": \"square\"\r\n        }).attr(attributes).data({\r\n            \"chart-data-point\": this\r\n        }).sharp().append(group)\r\n    },\r\n    _fillStyle: function() {\r\n        var styles = this._options.styles;\r\n        if (this._isReduction && this._isPositive) {\r\n            this._styles = styles.reductionPositive\r\n        } else if (this._isReduction) {\r\n            this._styles = styles.reduction\r\n        } else if (this._isPositive) {\r\n            this._styles = styles.positive\r\n        } else {\r\n            this._styles = styles\r\n        }\r\n    },\r\n    _getMinTrackerWidth: function() {\r\n        return 2 + 2 * this._styles.normal[\"stroke-width\"]\r\n    },\r\n    correctCoordinates: function(correctOptions) {\r\n        var minWidth = this._getMinTrackerWidth();\r\n        var width = correctOptions.width;\r\n        width = width < minWidth ? minWidth : width > 10 ? 10 : width;\r\n        this.width = width + width % 2;\r\n        this.xCorrection = correctOptions.offset\r\n    },\r\n    _getMarkerGroup: function(group) {\r\n        var markerGroup;\r\n        if (this._isReduction && this._isPositive) {\r\n            markerGroup = group.reductionPositiveMarkersGroup\r\n        } else if (this._isReduction) {\r\n            markerGroup = group.reductionMarkersGroup\r\n        } else if (this._isPositive) {\r\n            markerGroup = group.defaultPositiveMarkersGroup\r\n        } else {\r\n            markerGroup = group.defaultMarkersGroup\r\n        }\r\n        return markerGroup\r\n    },\r\n    _drawMarker: function(renderer, group) {\r\n        this._drawMarkerInGroup(this._getMarkerGroup(group), this._getStyle(), renderer)\r\n    },\r\n    _getSettingsForTracker: function() {\r\n        var highY = this.highY;\r\n        var lowY = this.lowY;\r\n        var rotated = this._options.rotated;\r\n        var x;\r\n        var y;\r\n        var width;\r\n        var height;\r\n        if (highY === lowY) {\r\n            highY = rotated ? highY + DEFAULT_FINANCIAL_TRACKER_MARGIN : highY - DEFAULT_FINANCIAL_TRACKER_MARGIN;\r\n            lowY = rotated ? lowY - DEFAULT_FINANCIAL_TRACKER_MARGIN : lowY + DEFAULT_FINANCIAL_TRACKER_MARGIN\r\n        }\r\n        if (rotated) {\r\n            x = _min(lowY, highY);\r\n            y = this.x - this.width / 2;\r\n            width = _abs(lowY - highY);\r\n            height = this.width\r\n        } else {\r\n            x = this.x - this.width / 2;\r\n            y = _min(lowY, highY);\r\n            width = this.width;\r\n            height = _abs(lowY - highY)\r\n        }\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            width: width,\r\n            height: height\r\n        }\r\n    },\r\n    _getGraphicBBox: function(location) {\r\n        var rotated = this._options.rotated;\r\n        var x = this.x;\r\n        var width = this.width;\r\n        var lowY = this.lowY;\r\n        var highY = this.highY;\r\n        if (location) {\r\n            var valVisibleArea = this.series.getValueAxis().getVisibleArea();\r\n            highY = this._truncateCoord(highY, valVisibleArea);\r\n            lowY = this._truncateCoord(lowY, valVisibleArea)\r\n        }\r\n        var bBox = {\r\n            x: !rotated ? x - _round(width / 2) : lowY,\r\n            y: !rotated ? highY : x - _round(width / 2),\r\n            width: !rotated ? width : highY - lowY,\r\n            height: !rotated ? lowY - highY : width\r\n        };\r\n        if (location) {\r\n            var isTop = \"top\" === location;\r\n            if (!this._options.rotated) {\r\n                bBox.y = isTop ? bBox.y : bBox.y + bBox.height;\r\n                bBox.height = 0\r\n            } else {\r\n                bBox.x = isTop ? bBox.x + bBox.width : bBox.x;\r\n                bBox.width = 0\r\n            }\r\n        }\r\n        return bBox\r\n    },\r\n    getTooltipParams: function(location) {\r\n        if (this.graphic) {\r\n            var minValue = _min(this.lowY, this.highY);\r\n            var maxValue = _max(this.lowY, this.highY);\r\n            var visibleArea = this._getVisibleArea();\r\n            var rotated = this._options.rotated;\r\n            var minVisible = rotated ? visibleArea.minX : visibleArea.minY;\r\n            var maxVisible = rotated ? visibleArea.maxX : visibleArea.maxY;\r\n            var min = _max(minVisible, minValue);\r\n            var max = _min(maxVisible, maxValue);\r\n            var centerCoord = this.getCenterCoord();\r\n            if (\"edge\" === location) {\r\n                centerCoord[rotated ? \"x\" : \"y\"] = rotated ? max : min\r\n            }\r\n            centerCoord.offset = 0;\r\n            return centerCoord\r\n        }\r\n    },\r\n    getCenterCoord() {\r\n        if (this.graphic) {\r\n            var x;\r\n            var y;\r\n            var minValue = _min(this.lowY, this.highY);\r\n            var maxValue = _max(this.lowY, this.highY);\r\n            var visibleArea = this._getVisibleArea();\r\n            var rotated = this._options.rotated;\r\n            var minVisible = rotated ? visibleArea.minX : visibleArea.minY;\r\n            var maxVisible = rotated ? visibleArea.maxX : visibleArea.maxY;\r\n            var min = _max(minVisible, minValue);\r\n            var max = _min(maxVisible, maxValue);\r\n            var center = min + (max - min) / 2;\r\n            if (rotated) {\r\n                y = this.x;\r\n                x = center\r\n            } else {\r\n                x = this.x;\r\n                y = center\r\n            }\r\n            return {\r\n                x: x,\r\n                y: y\r\n            }\r\n        }\r\n    },\r\n    hasValue: function() {\r\n        return null !== this.highValue && null !== this.lowValue\r\n    },\r\n    hasCoords: function() {\r\n        return null !== this.x && null !== this.lowY && null !== this.highY\r\n    },\r\n    _translate: function() {\r\n        var rotated = this._options.rotated;\r\n        var valTranslator = this._getValTranslator();\r\n        var x = this._getArgTranslator().translate(this.argument);\r\n        this.vx = this.vy = this.x = null === x ? x : x + (this.xCorrection || 0);\r\n        this.openY = null !== this.openValue ? valTranslator.translate(this.openValue) : null;\r\n        this.highY = valTranslator.translate(this.highValue);\r\n        this.lowY = valTranslator.translate(this.lowValue);\r\n        this.closeY = null !== this.closeValue ? valTranslator.translate(this.closeValue) : null;\r\n        var centerValue = _min(this.lowY, this.highY) + _abs(this.lowY - this.highY) / 2;\r\n        this._calculateVisibility(!rotated ? this.x : centerValue, !rotated ? centerValue : this.x)\r\n    },\r\n    getCrosshairData: function(x, y) {\r\n        var rotated = this._options.rotated;\r\n        var origY = rotated ? x : y;\r\n        var yValue;\r\n        var argument = this.argument;\r\n        var coords;\r\n        var coord = \"low\";\r\n        if (_abs(this.lowY - origY) < _abs(this.closeY - origY)) {\r\n            yValue = this.lowY\r\n        } else {\r\n            yValue = this.closeY;\r\n            coord = \"close\"\r\n        }\r\n        if (_abs(yValue - origY) >= _abs(this.openY - origY)) {\r\n            yValue = this.openY;\r\n            coord = \"open\"\r\n        }\r\n        if (_abs(yValue - origY) >= _abs(this.highY - origY)) {\r\n            yValue = this.highY;\r\n            coord = \"high\"\r\n        }\r\n        if (rotated) {\r\n            coords = {\r\n                y: this.vy,\r\n                x: yValue,\r\n                xValue: this[coord + \"Value\"],\r\n                yValue: argument\r\n            }\r\n        } else {\r\n            coords = {\r\n                x: this.vx,\r\n                y: yValue,\r\n                xValue: argument,\r\n                yValue: this[coord + \"Value\"]\r\n            }\r\n        }\r\n        coords.axis = this.series.axis;\r\n        return coords\r\n    },\r\n    _updateData: function(data) {\r\n        var label = this._label;\r\n        var reductionColor = this._options.reduction.color;\r\n        this.value = this.initialValue = data.reductionValue;\r\n        this.originalValue = data.value;\r\n        this.lowValue = this.originalLowValue = data.lowValue;\r\n        this.highValue = this.originalHighValue = data.highValue;\r\n        this.openValue = this.originalOpenValue = data.openValue;\r\n        this.closeValue = this.originalCloseValue = data.closeValue;\r\n        this._isPositive = data.openValue < data.closeValue;\r\n        this._isReduction = data.isReduction;\r\n        if (this._isReduction) {\r\n            label.setColor(reductionColor)\r\n        }\r\n    },\r\n    _updateMarker: function(animationEnabled, style, group) {\r\n        var graphic = this.graphic;\r\n        graphic.attr({\r\n            points: this._getPoints()\r\n        }).smartAttr(style).sharp();\r\n        group && graphic.append(this._getMarkerGroup(group))\r\n    },\r\n    _getLabelFormatObject: function() {\r\n        return {\r\n            openValue: this.openValue,\r\n            highValue: this.highValue,\r\n            lowValue: this.lowValue,\r\n            closeValue: this.closeValue,\r\n            reductionValue: this.initialValue,\r\n            argument: this.initialArgument,\r\n            value: this.initialValue,\r\n            seriesName: this.series.name,\r\n            originalOpenValue: this.originalOpenValue,\r\n            originalCloseValue: this.originalCloseValue,\r\n            originalLowValue: this.originalLowValue,\r\n            originalHighValue: this.originalHighValue,\r\n            originalArgument: this.originalArgument,\r\n            point: this\r\n        }\r\n    },\r\n    _getFormatObject: function(tooltip) {\r\n        var highValue = tooltip.formatValue(this.highValue);\r\n        var openValue = tooltip.formatValue(this.openValue);\r\n        var closeValue = tooltip.formatValue(this.closeValue);\r\n        var lowValue = tooltip.formatValue(this.lowValue);\r\n        var symbolMethods = symbolPoint;\r\n        var formatObject = symbolMethods._getFormatObject.call(this, tooltip);\r\n        return _extend({}, formatObject, {\r\n            valueText: \"h: \" + highValue + (\"\" !== openValue ? \" o: \" + openValue : \"\") + (\"\" !== closeValue ? \" c: \" + closeValue : \"\") + \" l: \" + lowValue,\r\n            highValueText: highValue,\r\n            openValueText: openValue,\r\n            closeValueText: closeValue,\r\n            lowValueText: lowValue\r\n        })\r\n    },\r\n    getMaxValue: function() {\r\n        return this.highValue\r\n    },\r\n    getMinValue: function() {\r\n        return this.lowValue\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}