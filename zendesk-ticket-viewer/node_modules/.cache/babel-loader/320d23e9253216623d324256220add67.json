{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/series/bubble_series.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { chart as lineChart } from \"./line_series\";\nimport { chart as scatterSeries } from \"./scatter_series\";\nimport { chart as areaChart } from \"./area_series\";\nimport { chart as barChart, polar as barPolar } from \"./bar_series\";\nimport { extend } from \"../../core/utils/extend\";\nimport { each } from \"../../core/utils/iterator\";\nimport { noop } from \"../../core/utils/common\";\nvar lineSeries = lineChart.line;\nvar areaSeries = areaChart.area;\nvar chartBarSeries = barChart.bar;\nvar polarBarSeries = barPolar.bar;\nvar _extend = extend;\nvar _each = each;\nvar _noop = noop;\nvar chart = {};\nchart.bubble = _extend({}, scatterSeries, {\n  _calculateErrorBars: _noop,\n  _getMainColor: chartBarSeries._getMainColor,\n  _createPointStyles: chartBarSeries._createPointStyles,\n  _updatePointsVisibility: chartBarSeries._updatePointsVisibility,\n  _getOptionsForPoint: chartBarSeries._getOptionsForPoint,\n  _applyMarkerClipRect: lineSeries._applyElementsClipRect,\n  _parsePointStyle: polarBarSeries._parsePointStyle,\n  _createLegendState: areaSeries._createLegendState,\n  _setMarkerGroupSettings: polarBarSeries._setMarkerGroupSettings,\n  areErrorBarsVisible: _noop,\n  _createErrorBarGroup: _noop,\n  _checkData: function (data, skippedFields) {\n    return scatterSeries._checkData.call(this, data, skippedFields, {\n      value: this.getValueFields()[0],\n      size: this.getSizeField()\n    });\n  },\n  _getPointDataSelector: function (data, options) {\n    var sizeField = this.getSizeField();\n\n    var baseGetter = scatterSeries._getPointDataSelector.call(this);\n\n    return data => {\n      var pointData = baseGetter(data);\n      pointData.size = data[sizeField];\n      return pointData;\n    };\n  },\n  _aggregators: {\n    avg(_ref, series) {\n      var {\n        data: data,\n        intervalStart: intervalStart,\n        intervalEnd: intervalEnd\n      } = _ref;\n\n      if (!data.length) {\n        return;\n      }\n\n      var valueField = series.getValueFields()[0];\n      var sizeField = series.getSizeField();\n      var aggregate = data.reduce((result, item) => {\n        result[0] += item[valueField];\n        result[1] += item[sizeField];\n        result[2]++;\n        return result;\n      }, [0, 0, 0]);\n      return {\n        [valueField]: aggregate[0] / aggregate[2],\n        [sizeField]: aggregate[1] / aggregate[2],\n        [series.getArgumentField()]: series._getIntervalCenter(intervalStart, intervalEnd)\n      };\n    }\n\n  },\n  getValueFields: function () {\n    return [this._options.valueField || \"val\"];\n  },\n  getSizeField: function () {\n    return this._options.sizeField || \"size\";\n  },\n  _animate: function () {\n    var that = this;\n    var lastPointIndex = that._drawnPoints.length - 1;\n    var labelsGroup = that._labelsGroup;\n\n    var labelAnimFunc = function () {\n      labelsGroup && labelsGroup.animate({\n        opacity: 1\n      }, {\n        duration: that._defaultDuration\n      });\n    };\n\n    _each(that._drawnPoints || [], function (i, p) {\n      p.animate(i === lastPointIndex ? labelAnimFunc : void 0, {\n        r: p.bubbleSize,\n        translateX: p.x,\n        translateY: p.y\n      });\n    });\n  },\n  _patchMarginOptions: function (options) {\n    options.processBubbleSize = true;\n    return options;\n  }\n});\nexport { chart };","map":{"version":3,"sources":["/Users/rahulsharma/node_modules/devextreme/esm/viz/series/bubble_series.js"],"names":["chart","lineChart","scatterSeries","areaChart","barChart","polar","barPolar","extend","each","noop","lineSeries","line","areaSeries","area","chartBarSeries","bar","polarBarSeries","_extend","_each","_noop","bubble","_calculateErrorBars","_getMainColor","_createPointStyles","_updatePointsVisibility","_getOptionsForPoint","_applyMarkerClipRect","_applyElementsClipRect","_parsePointStyle","_createLegendState","_setMarkerGroupSettings","areErrorBarsVisible","_createErrorBarGroup","_checkData","data","skippedFields","call","value","getValueFields","size","getSizeField","_getPointDataSelector","options","sizeField","baseGetter","pointData","_aggregators","avg","_ref","series","intervalStart","intervalEnd","length","valueField","aggregate","reduce","result","item","getArgumentField","_getIntervalCenter","_options","_animate","that","lastPointIndex","_drawnPoints","labelsGroup","_labelsGroup","labelAnimFunc","animate","opacity","duration","_defaultDuration","i","p","r","bubbleSize","translateX","x","translateY","y","_patchMarginOptions","processBubbleSize"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/viz/series/bubble_series.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    chart as lineChart\r\n} from \"./line_series\";\r\nimport {\r\n    chart as scatterSeries\r\n} from \"./scatter_series\";\r\nimport {\r\n    chart as areaChart\r\n} from \"./area_series\";\r\nimport {\r\n    chart as barChart,\r\n    polar as barPolar\r\n} from \"./bar_series\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nvar lineSeries = lineChart.line;\r\nvar areaSeries = areaChart.area;\r\nvar chartBarSeries = barChart.bar;\r\nvar polarBarSeries = barPolar.bar;\r\nvar _extend = extend;\r\nvar _each = each;\r\nvar _noop = noop;\r\nvar chart = {};\r\nchart.bubble = _extend({}, scatterSeries, {\r\n    _calculateErrorBars: _noop,\r\n    _getMainColor: chartBarSeries._getMainColor,\r\n    _createPointStyles: chartBarSeries._createPointStyles,\r\n    _updatePointsVisibility: chartBarSeries._updatePointsVisibility,\r\n    _getOptionsForPoint: chartBarSeries._getOptionsForPoint,\r\n    _applyMarkerClipRect: lineSeries._applyElementsClipRect,\r\n    _parsePointStyle: polarBarSeries._parsePointStyle,\r\n    _createLegendState: areaSeries._createLegendState,\r\n    _setMarkerGroupSettings: polarBarSeries._setMarkerGroupSettings,\r\n    areErrorBarsVisible: _noop,\r\n    _createErrorBarGroup: _noop,\r\n    _checkData: function(data, skippedFields) {\r\n        return scatterSeries._checkData.call(this, data, skippedFields, {\r\n            value: this.getValueFields()[0],\r\n            size: this.getSizeField()\r\n        })\r\n    },\r\n    _getPointDataSelector: function(data, options) {\r\n        var sizeField = this.getSizeField();\r\n        var baseGetter = scatterSeries._getPointDataSelector.call(this);\r\n        return data => {\r\n            var pointData = baseGetter(data);\r\n            pointData.size = data[sizeField];\r\n            return pointData\r\n        }\r\n    },\r\n    _aggregators: {\r\n        avg(_ref, series) {\r\n            var {\r\n                data: data,\r\n                intervalStart: intervalStart,\r\n                intervalEnd: intervalEnd\r\n            } = _ref;\r\n            if (!data.length) {\r\n                return\r\n            }\r\n            var valueField = series.getValueFields()[0];\r\n            var sizeField = series.getSizeField();\r\n            var aggregate = data.reduce((result, item) => {\r\n                result[0] += item[valueField];\r\n                result[1] += item[sizeField];\r\n                result[2]++;\r\n                return result\r\n            }, [0, 0, 0]);\r\n            return {\r\n                [valueField]: aggregate[0] / aggregate[2],\r\n                [sizeField]: aggregate[1] / aggregate[2],\r\n                [series.getArgumentField()]: series._getIntervalCenter(intervalStart, intervalEnd)\r\n            }\r\n        }\r\n    },\r\n    getValueFields: function() {\r\n        return [this._options.valueField || \"val\"]\r\n    },\r\n    getSizeField: function() {\r\n        return this._options.sizeField || \"size\"\r\n    },\r\n    _animate: function() {\r\n        var that = this;\r\n        var lastPointIndex = that._drawnPoints.length - 1;\r\n        var labelsGroup = that._labelsGroup;\r\n        var labelAnimFunc = function() {\r\n            labelsGroup && labelsGroup.animate({\r\n                opacity: 1\r\n            }, {\r\n                duration: that._defaultDuration\r\n            })\r\n        };\r\n        _each(that._drawnPoints || [], (function(i, p) {\r\n            p.animate(i === lastPointIndex ? labelAnimFunc : void 0, {\r\n                r: p.bubbleSize,\r\n                translateX: p.x,\r\n                translateY: p.y\r\n            })\r\n        }))\r\n    },\r\n    _patchMarginOptions: function(options) {\r\n        options.processBubbleSize = true;\r\n        return options\r\n    }\r\n});\r\nexport {\r\n    chart\r\n};\r\n"]},"metadata":{},"sourceType":"module"}