{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/core/base_theme_manager.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport Class from \"../../core/class\";\nimport { extend } from \"../../core/utils/extend\";\nimport { isString as _isString } from \"../../core/utils/type\";\nimport { each } from \"../../core/utils/iterator\";\nimport { createPalette as getPalette, getDiscretePalette, getGradientPalette, getAccentColor as accentColor } from \"../palette\";\nimport { parseScalar as _parseScalar } from \"./utils\";\nimport { getTheme, addCacheItem, removeCacheItem } from \"../themes\";\nvar _getTheme = getTheme;\nvar _addCacheItem = addCacheItem;\nvar _removeCacheItem = removeCacheItem;\nvar _extend = extend;\nvar _each = each;\n\nfunction getThemePart(theme, path) {\n  var _theme = theme;\n  path && _each(path.split(\".\"), function (_, pathItem) {\n    return _theme = _theme[pathItem];\n  });\n  return _theme;\n}\n\nexport var BaseThemeManager = Class.inherit({\n  ctor: function (options) {\n    this._themeSection = options.themeSection;\n    this._fontFields = options.fontFields || [];\n\n    _addCacheItem(this);\n  },\n  dispose: function () {\n    _removeCacheItem(this);\n\n    this._callback = this._theme = this._font = null;\n    return this;\n  },\n  setCallback: function (callback) {\n    this._callback = callback;\n    return this;\n  },\n  setTheme: function (theme, rtl) {\n    this._current = theme;\n    this._rtl = rtl;\n    return this.refresh();\n  },\n  refresh: function () {\n    var current = this._current || {};\n\n    var theme = _getTheme(current.name || current);\n\n    this._themeName = theme.name;\n    this._defaultPalette = theme.defaultPalette;\n    this._font = _extend({}, theme.font, current.font);\n    this._themeSection && _each(this._themeSection.split(\".\"), function (_, path) {\n      theme = _extend(true, {}, theme[path]);\n    });\n    this._theme = _extend(true, {}, theme, _isString(current) ? {} : current);\n\n    this._initializeTheme();\n\n    if (_parseScalar(this._rtl, this._theme.rtlEnabled)) {\n      _extend(true, this._theme, this._theme._rtl);\n    }\n\n    this._callback();\n\n    return this;\n  },\n  theme: function (path) {\n    return getThemePart(this._theme, path);\n  },\n  themeName: function () {\n    return this._themeName;\n  },\n  createPalette: function (palette, options) {\n    return getPalette(palette, options, this._defaultPalette);\n  },\n  createDiscretePalette: function (palette, count) {\n    return getDiscretePalette(palette, count, this._defaultPalette);\n  },\n  createGradientPalette: function (palette) {\n    return getGradientPalette(palette, this._defaultPalette);\n  },\n  getAccentColor: function (palette) {\n    return accentColor(palette, this._defaultPalette);\n  },\n  _initializeTheme: function () {\n    var that = this;\n\n    _each(that._fontFields || [], function (_, path) {\n      that._initializeFont(getThemePart(that._theme, path));\n    });\n  },\n  _initializeFont: function (font) {\n    _extend(font, this._font, _extend({}, font));\n  }\n});","map":{"version":3,"sources":["/Users/rahulsharma/node_modules/devextreme/esm/viz/core/base_theme_manager.js"],"names":["Class","extend","isString","_isString","each","createPalette","getPalette","getDiscretePalette","getGradientPalette","getAccentColor","accentColor","parseScalar","_parseScalar","getTheme","addCacheItem","removeCacheItem","_getTheme","_addCacheItem","_removeCacheItem","_extend","_each","getThemePart","theme","path","_theme","split","_","pathItem","BaseThemeManager","inherit","ctor","options","_themeSection","themeSection","_fontFields","fontFields","dispose","_callback","_font","setCallback","callback","setTheme","rtl","_current","_rtl","refresh","current","name","_themeName","_defaultPalette","defaultPalette","font","_initializeTheme","rtlEnabled","themeName","palette","createDiscretePalette","count","createGradientPalette","that","_initializeFont"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/viz/core/base_theme_manager.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../../core/class\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    isString as _isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    createPalette as getPalette,\r\n    getDiscretePalette,\r\n    getGradientPalette,\r\n    getAccentColor as accentColor\r\n} from \"../palette\";\r\nimport {\r\n    parseScalar as _parseScalar\r\n} from \"./utils\";\r\nimport {\r\n    getTheme,\r\n    addCacheItem,\r\n    removeCacheItem\r\n} from \"../themes\";\r\nvar _getTheme = getTheme;\r\nvar _addCacheItem = addCacheItem;\r\nvar _removeCacheItem = removeCacheItem;\r\nvar _extend = extend;\r\nvar _each = each;\r\n\r\nfunction getThemePart(theme, path) {\r\n    var _theme = theme;\r\n    path && _each(path.split(\".\"), (function(_, pathItem) {\r\n        return _theme = _theme[pathItem]\r\n    }));\r\n    return _theme\r\n}\r\nexport var BaseThemeManager = Class.inherit({\r\n    ctor: function(options) {\r\n        this._themeSection = options.themeSection;\r\n        this._fontFields = options.fontFields || [];\r\n        _addCacheItem(this)\r\n    },\r\n    dispose: function() {\r\n        _removeCacheItem(this);\r\n        this._callback = this._theme = this._font = null;\r\n        return this\r\n    },\r\n    setCallback: function(callback) {\r\n        this._callback = callback;\r\n        return this\r\n    },\r\n    setTheme: function(theme, rtl) {\r\n        this._current = theme;\r\n        this._rtl = rtl;\r\n        return this.refresh()\r\n    },\r\n    refresh: function() {\r\n        var current = this._current || {};\r\n        var theme = _getTheme(current.name || current);\r\n        this._themeName = theme.name;\r\n        this._defaultPalette = theme.defaultPalette;\r\n        this._font = _extend({}, theme.font, current.font);\r\n        this._themeSection && _each(this._themeSection.split(\".\"), (function(_, path) {\r\n            theme = _extend(true, {}, theme[path])\r\n        }));\r\n        this._theme = _extend(true, {}, theme, _isString(current) ? {} : current);\r\n        this._initializeTheme();\r\n        if (_parseScalar(this._rtl, this._theme.rtlEnabled)) {\r\n            _extend(true, this._theme, this._theme._rtl)\r\n        }\r\n        this._callback();\r\n        return this\r\n    },\r\n    theme: function(path) {\r\n        return getThemePart(this._theme, path)\r\n    },\r\n    themeName: function() {\r\n        return this._themeName\r\n    },\r\n    createPalette: function(palette, options) {\r\n        return getPalette(palette, options, this._defaultPalette)\r\n    },\r\n    createDiscretePalette: function(palette, count) {\r\n        return getDiscretePalette(palette, count, this._defaultPalette)\r\n    },\r\n    createGradientPalette: function(palette) {\r\n        return getGradientPalette(palette, this._defaultPalette)\r\n    },\r\n    getAccentColor: function(palette) {\r\n        return accentColor(palette, this._defaultPalette)\r\n    },\r\n    _initializeTheme: function() {\r\n        var that = this;\r\n        _each(that._fontFields || [], (function(_, path) {\r\n            that._initializeFont(getThemePart(that._theme, path))\r\n        }))\r\n    },\r\n    _initializeFont: function(font) {\r\n        _extend(font, this._font, _extend({}, font))\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}