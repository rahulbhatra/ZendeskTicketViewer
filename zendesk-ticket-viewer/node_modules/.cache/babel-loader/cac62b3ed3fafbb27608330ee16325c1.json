{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/chart_components/scroll_bar.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport eventsEngine from \"../../events/core/events_engine\";\nimport { fireEvent } from \"../../events/utils/index\";\nimport { extend } from \"../../core/utils/extend\";\nimport { Translator2D } from \"../translators/translator2d\";\nimport { isDefined } from \"../../core/utils/type\";\nimport { noop } from \"../../core/utils/common\";\nimport { start as dragEventStart, move as dragEventMove, end as dragEventEnd } from \"../../events/drag\";\nvar _min = Math.min;\nvar _max = Math.max;\nvar MIN_SCROLL_BAR_SIZE = 2;\nexport var ScrollBar = function (renderer, group) {\n  this._translator = new Translator2D({}, {}, {});\n  this._scroll = renderer.rect().append(group);\n\n  this._addEvents();\n};\n\nfunction _getXCoord(canvas, pos, offset, width) {\n  var x = 0;\n\n  if (\"right\" === pos) {\n    x = canvas.width - canvas.right + offset;\n  } else if (\"left\" === pos) {\n    x = canvas.left - offset - width;\n  }\n\n  return x;\n}\n\nfunction _getYCoord(canvas, pos, offset, width) {\n  var y = 0;\n\n  if (\"top\" === pos) {\n    y = canvas.top - offset;\n  } else if (\"bottom\" === pos) {\n    y = canvas.height - canvas.bottom + width + offset;\n  }\n\n  return y;\n}\n\nScrollBar.prototype = {\n  _addEvents: function () {\n    var scrollElement = this._scroll.element;\n    eventsEngine.on(scrollElement, dragEventStart, e => {\n      fireEvent({\n        type: \"dxc-scroll-start\",\n        originalEvent: e,\n        target: scrollElement\n      });\n    });\n    eventsEngine.on(scrollElement, dragEventMove, e => {\n      var dX = -e.offset.x * this._scale;\n      var dY = -e.offset.y * this._scale;\n      var lx = this._offset - (this._layoutOptions.vertical ? dY : dX) / this._scale;\n\n      this._applyPosition(lx, lx + this._translator.canvasLength / this._scale);\n\n      fireEvent({\n        type: \"dxc-scroll-move\",\n        originalEvent: e,\n        target: scrollElement,\n        offset: {\n          x: dX,\n          y: dY\n        }\n      });\n    });\n    eventsEngine.on(scrollElement, dragEventEnd, e => {\n      fireEvent({\n        type: \"dxc-scroll-end\",\n        originalEvent: e,\n        target: scrollElement,\n        offset: {\n          x: -e.offset.x * this._scale,\n          y: -e.offset.y * this._scale\n        }\n      });\n    });\n  },\n  update: function (options) {\n    var position = options.position;\n    var isVertical = options.rotated;\n    var defaultPosition = isVertical ? \"right\" : \"top\";\n    var secondaryPosition = isVertical ? \"left\" : \"bottom\";\n\n    if (position !== defaultPosition && position !== secondaryPosition) {\n      position = defaultPosition;\n    }\n\n    this._scroll.attr({\n      rotate: !options.rotated ? -90 : 0,\n      rotateX: 0,\n      rotateY: 0,\n      fill: options.color,\n      width: options.width,\n      opacity: options.opacity\n    });\n\n    this._layoutOptions = {\n      width: options.width,\n      offset: options.offset,\n      vertical: isVertical,\n      position: position\n    };\n    return this;\n  },\n  init: function (range, stick) {\n    var isDiscrete = \"discrete\" === range.axisType;\n    this._translateWithOffset = isDiscrete && !stick ? 1 : 0;\n\n    this._translator.update(extend({}, range, {\n      minVisible: null,\n      maxVisible: null,\n      visibleCategories: null\n    }, isDiscrete && {\n      min: null,\n      max: null\n    } || {}), this._canvas, {\n      isHorizontal: !this._layoutOptions.vertical,\n      stick: stick\n    });\n\n    return this;\n  },\n  getOptions: function () {\n    return this._layoutOptions;\n  },\n  setPane: function (panes) {\n    var position = this._layoutOptions.position;\n    var pane;\n\n    if (\"left\" === position || \"top\" === position) {\n      pane = panes[0];\n    } else {\n      pane = panes[panes.length - 1];\n    }\n\n    this.pane = pane.name;\n    return this;\n  },\n  updateSize: function (canvas) {\n    this._canvas = extend({}, canvas);\n    var options = this._layoutOptions;\n    var pos = options.position;\n    var offset = options.offset;\n    var width = options.width;\n\n    this._scroll.attr({\n      translateX: _getXCoord(canvas, pos, offset, width),\n      translateY: _getYCoord(canvas, pos, offset, width)\n    });\n  },\n  getMultipleAxesSpacing: function () {\n    return 0;\n  },\n  estimateMargins: function () {\n    return this.getMargins();\n  },\n  getMargins: function () {\n    var options = this._layoutOptions;\n    var margins = {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    };\n    margins[options.position] = options.width + options.offset;\n    return margins;\n  },\n  shift: function (margins) {\n    var _that$_scroll$attr, _that$_scroll$attr2;\n\n    var options = this._layoutOptions;\n    var side = options.position;\n    var isVertical = options.vertical;\n    var attr = {\n      translateX: null !== (_that$_scroll$attr = this._scroll.attr(\"translateX\")) && void 0 !== _that$_scroll$attr ? _that$_scroll$attr : 0,\n      translateY: null !== (_that$_scroll$attr2 = this._scroll.attr(\"translateY\")) && void 0 !== _that$_scroll$attr2 ? _that$_scroll$attr2 : 0\n    };\n    var shift = margins[side];\n    attr[isVertical ? \"translateX\" : \"translateY\"] += (\"left\" === side || \"top\" === side ? -1 : 1) * shift;\n\n    this._scroll.attr(attr);\n  },\n  hideTitle: noop,\n  hideOuterElements: noop,\n  setPosition: function (min, max) {\n    var translator = this._translator;\n    var minPoint = isDefined(min) ? translator.translate(min, -this._translateWithOffset) : translator.translate(\"canvas_position_start\");\n    var maxPoint = isDefined(max) ? translator.translate(max, this._translateWithOffset) : translator.translate(\"canvas_position_end\");\n    this._offset = _min(minPoint, maxPoint);\n    this._scale = translator.getScale(min, max);\n\n    this._applyPosition(_min(minPoint, maxPoint), _max(minPoint, maxPoint));\n  },\n  customPositionIsAvailable: () => false,\n  dispose: function () {\n    this._scroll.dispose();\n\n    this._scroll = this._translator = null;\n  },\n  _applyPosition: function (x1, x2) {\n    var visibleArea = this._translator.getCanvasVisibleArea();\n\n    x1 = _max(x1, visibleArea.min);\n    x1 = _min(x1, visibleArea.max);\n    x2 = _min(x2, visibleArea.max);\n    x2 = _max(x2, visibleArea.min);\n    var height = Math.abs(x2 - x1);\n\n    this._scroll.attr({\n      y: x1,\n      height: height < MIN_SCROLL_BAR_SIZE ? MIN_SCROLL_BAR_SIZE : height\n    });\n  }\n};","map":{"version":3,"sources":["/Users/rahulsharma/node_modules/devextreme/esm/viz/chart_components/scroll_bar.js"],"names":["eventsEngine","fireEvent","extend","Translator2D","isDefined","noop","start","dragEventStart","move","dragEventMove","end","dragEventEnd","_min","Math","min","_max","max","MIN_SCROLL_BAR_SIZE","ScrollBar","renderer","group","_translator","_scroll","rect","append","_addEvents","_getXCoord","canvas","pos","offset","width","x","right","left","_getYCoord","y","top","height","bottom","prototype","scrollElement","element","on","e","type","originalEvent","target","dX","_scale","dY","lx","_offset","_layoutOptions","vertical","_applyPosition","canvasLength","update","options","position","isVertical","rotated","defaultPosition","secondaryPosition","attr","rotate","rotateX","rotateY","fill","color","opacity","init","range","stick","isDiscrete","axisType","_translateWithOffset","minVisible","maxVisible","visibleCategories","_canvas","isHorizontal","getOptions","setPane","panes","pane","length","name","updateSize","translateX","translateY","getMultipleAxesSpacing","estimateMargins","getMargins","margins","shift","_that$_scroll$attr","_that$_scroll$attr2","side","hideTitle","hideOuterElements","setPosition","translator","minPoint","translate","maxPoint","getScale","customPositionIsAvailable","dispose","x1","x2","visibleArea","getCanvasVisibleArea","abs"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/viz/chart_components/scroll_bar.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    fireEvent\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    Translator2D\r\n} from \"../translators/translator2d\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    start as dragEventStart,\r\n    move as dragEventMove,\r\n    end as dragEventEnd\r\n} from \"../../events/drag\";\r\nvar _min = Math.min;\r\nvar _max = Math.max;\r\nvar MIN_SCROLL_BAR_SIZE = 2;\r\nexport var ScrollBar = function(renderer, group) {\r\n    this._translator = new Translator2D({}, {}, {});\r\n    this._scroll = renderer.rect().append(group);\r\n    this._addEvents()\r\n};\r\n\r\nfunction _getXCoord(canvas, pos, offset, width) {\r\n    var x = 0;\r\n    if (\"right\" === pos) {\r\n        x = canvas.width - canvas.right + offset\r\n    } else if (\"left\" === pos) {\r\n        x = canvas.left - offset - width\r\n    }\r\n    return x\r\n}\r\n\r\nfunction _getYCoord(canvas, pos, offset, width) {\r\n    var y = 0;\r\n    if (\"top\" === pos) {\r\n        y = canvas.top - offset\r\n    } else if (\"bottom\" === pos) {\r\n        y = canvas.height - canvas.bottom + width + offset\r\n    }\r\n    return y\r\n}\r\nScrollBar.prototype = {\r\n    _addEvents: function() {\r\n        var scrollElement = this._scroll.element;\r\n        eventsEngine.on(scrollElement, dragEventStart, e => {\r\n            fireEvent({\r\n                type: \"dxc-scroll-start\",\r\n                originalEvent: e,\r\n                target: scrollElement\r\n            })\r\n        });\r\n        eventsEngine.on(scrollElement, dragEventMove, e => {\r\n            var dX = -e.offset.x * this._scale;\r\n            var dY = -e.offset.y * this._scale;\r\n            var lx = this._offset - (this._layoutOptions.vertical ? dY : dX) / this._scale;\r\n            this._applyPosition(lx, lx + this._translator.canvasLength / this._scale);\r\n            fireEvent({\r\n                type: \"dxc-scroll-move\",\r\n                originalEvent: e,\r\n                target: scrollElement,\r\n                offset: {\r\n                    x: dX,\r\n                    y: dY\r\n                }\r\n            })\r\n        });\r\n        eventsEngine.on(scrollElement, dragEventEnd, e => {\r\n            fireEvent({\r\n                type: \"dxc-scroll-end\",\r\n                originalEvent: e,\r\n                target: scrollElement,\r\n                offset: {\r\n                    x: -e.offset.x * this._scale,\r\n                    y: -e.offset.y * this._scale\r\n                }\r\n            })\r\n        })\r\n    },\r\n    update: function(options) {\r\n        var position = options.position;\r\n        var isVertical = options.rotated;\r\n        var defaultPosition = isVertical ? \"right\" : \"top\";\r\n        var secondaryPosition = isVertical ? \"left\" : \"bottom\";\r\n        if (position !== defaultPosition && position !== secondaryPosition) {\r\n            position = defaultPosition\r\n        }\r\n        this._scroll.attr({\r\n            rotate: !options.rotated ? -90 : 0,\r\n            rotateX: 0,\r\n            rotateY: 0,\r\n            fill: options.color,\r\n            width: options.width,\r\n            opacity: options.opacity\r\n        });\r\n        this._layoutOptions = {\r\n            width: options.width,\r\n            offset: options.offset,\r\n            vertical: isVertical,\r\n            position: position\r\n        };\r\n        return this\r\n    },\r\n    init: function(range, stick) {\r\n        var isDiscrete = \"discrete\" === range.axisType;\r\n        this._translateWithOffset = isDiscrete && !stick ? 1 : 0;\r\n        this._translator.update(extend({}, range, {\r\n            minVisible: null,\r\n            maxVisible: null,\r\n            visibleCategories: null\r\n        }, isDiscrete && {\r\n            min: null,\r\n            max: null\r\n        } || {}), this._canvas, {\r\n            isHorizontal: !this._layoutOptions.vertical,\r\n            stick: stick\r\n        });\r\n        return this\r\n    },\r\n    getOptions: function() {\r\n        return this._layoutOptions\r\n    },\r\n    setPane: function(panes) {\r\n        var position = this._layoutOptions.position;\r\n        var pane;\r\n        if (\"left\" === position || \"top\" === position) {\r\n            pane = panes[0]\r\n        } else {\r\n            pane = panes[panes.length - 1]\r\n        }\r\n        this.pane = pane.name;\r\n        return this\r\n    },\r\n    updateSize: function(canvas) {\r\n        this._canvas = extend({}, canvas);\r\n        var options = this._layoutOptions;\r\n        var pos = options.position;\r\n        var offset = options.offset;\r\n        var width = options.width;\r\n        this._scroll.attr({\r\n            translateX: _getXCoord(canvas, pos, offset, width),\r\n            translateY: _getYCoord(canvas, pos, offset, width)\r\n        })\r\n    },\r\n    getMultipleAxesSpacing: function() {\r\n        return 0\r\n    },\r\n    estimateMargins: function() {\r\n        return this.getMargins()\r\n    },\r\n    getMargins: function() {\r\n        var options = this._layoutOptions;\r\n        var margins = {\r\n            left: 0,\r\n            top: 0,\r\n            right: 0,\r\n            bottom: 0\r\n        };\r\n        margins[options.position] = options.width + options.offset;\r\n        return margins\r\n    },\r\n    shift: function(margins) {\r\n        var _that$_scroll$attr, _that$_scroll$attr2;\r\n        var options = this._layoutOptions;\r\n        var side = options.position;\r\n        var isVertical = options.vertical;\r\n        var attr = {\r\n            translateX: null !== (_that$_scroll$attr = this._scroll.attr(\"translateX\")) && void 0 !== _that$_scroll$attr ? _that$_scroll$attr : 0,\r\n            translateY: null !== (_that$_scroll$attr2 = this._scroll.attr(\"translateY\")) && void 0 !== _that$_scroll$attr2 ? _that$_scroll$attr2 : 0\r\n        };\r\n        var shift = margins[side];\r\n        attr[isVertical ? \"translateX\" : \"translateY\"] += (\"left\" === side || \"top\" === side ? -1 : 1) * shift;\r\n        this._scroll.attr(attr)\r\n    },\r\n    hideTitle: noop,\r\n    hideOuterElements: noop,\r\n    setPosition: function(min, max) {\r\n        var translator = this._translator;\r\n        var minPoint = isDefined(min) ? translator.translate(min, -this._translateWithOffset) : translator.translate(\"canvas_position_start\");\r\n        var maxPoint = isDefined(max) ? translator.translate(max, this._translateWithOffset) : translator.translate(\"canvas_position_end\");\r\n        this._offset = _min(minPoint, maxPoint);\r\n        this._scale = translator.getScale(min, max);\r\n        this._applyPosition(_min(minPoint, maxPoint), _max(minPoint, maxPoint))\r\n    },\r\n    customPositionIsAvailable: () => false,\r\n    dispose: function() {\r\n        this._scroll.dispose();\r\n        this._scroll = this._translator = null\r\n    },\r\n    _applyPosition: function(x1, x2) {\r\n        var visibleArea = this._translator.getCanvasVisibleArea();\r\n        x1 = _max(x1, visibleArea.min);\r\n        x1 = _min(x1, visibleArea.max);\r\n        x2 = _min(x2, visibleArea.max);\r\n        x2 = _max(x2, visibleArea.min);\r\n        var height = Math.abs(x2 - x1);\r\n        this._scroll.attr({\r\n            y: x1,\r\n            height: height < MIN_SCROLL_BAR_SIZE ? MIN_SCROLL_BAR_SIZE : height\r\n        })\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}