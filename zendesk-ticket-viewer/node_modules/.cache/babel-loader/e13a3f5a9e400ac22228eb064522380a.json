{"ast":null,"code":"/**\r\n * DevExtreme (esm/renovation/component_wrapper/button.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport ValidationEngine from \"../../ui/validation_engine\";\nimport Component from \"./common/component\";\nexport default class ButtonWrapper extends Component {\n  get _validationGroupConfig() {\n    return ValidationEngine.getGroupConfig(this._findGroup());\n  }\n\n  getDefaultTemplateNames() {\n    return [\"content\"];\n  }\n\n  getSupportedKeyNames() {\n    return [\"space\", \"enter\"];\n  }\n\n  getProps() {\n    var props = super.getProps();\n    props.validationGroup = this._validationGroupConfig;\n    return props;\n  }\n\n  get _templatesInfo() {\n    return {\n      template: \"content\"\n    };\n  }\n\n  _toggleActiveState(_, value) {\n    var button = this.viewRef;\n    value ? button.activate() : button.deactivate();\n  }\n\n  _getSubmitAction() {\n    var needValidate = true;\n    var validationStatus = \"valid\";\n    return this._createAction(_ref => {\n      var {\n        event: event,\n        submitInput: submitInput\n      } = _ref;\n\n      if (needValidate) {\n        var validationGroup = this._validationGroupConfig;\n\n        if (void 0 !== validationGroup && \"\" !== validationGroup) {\n          var {\n            complete: complete,\n            status: status\n          } = validationGroup.validate();\n          validationStatus = status;\n\n          if (\"pending\" === status) {\n            needValidate = false;\n            this.option(\"disabled\", true);\n            complete.then(() => {\n              needValidate = true;\n              this.option(\"disabled\", false);\n              validationStatus = status;\n              \"valid\" === validationStatus && submitInput.click();\n            });\n          }\n        }\n      }\n\n      \"valid\" !== validationStatus && event.preventDefault();\n      event.stopPropagation();\n    });\n  }\n\n  _init() {\n    super._init();\n\n    this._addAction(\"onSubmit\", this._getSubmitAction());\n  }\n\n  _initMarkup() {\n    super._initMarkup();\n\n    var $content = this.$element().find(\".dx-button-content\");\n    var $template = $content.children().filter(\".dx-template-wrapper\");\n\n    if ($template.length) {\n      $template.addClass(\"dx-button-content\");\n      $content.replaceWith($template);\n    }\n  }\n\n  _patchOptionValues(options) {\n    return super._patchOptionValues(_extends({}, options, {\n      templateData: options._templateData\n    }));\n  }\n\n  _findGroup() {\n    var $element = this.$element();\n    var validationGroup = this.option(\"validationGroup\");\n    return void 0 !== validationGroup && \"\" !== validationGroup ? validationGroup : ValidationEngine.findGroup($element, this._modelByElement($element));\n  }\n\n}","map":{"version":3,"sources":["/Users/rahulsharma/node_modules/devextreme/esm/renovation/component_wrapper/button.js"],"names":["_extends","ValidationEngine","Component","ButtonWrapper","_validationGroupConfig","getGroupConfig","_findGroup","getDefaultTemplateNames","getSupportedKeyNames","getProps","props","validationGroup","_templatesInfo","template","_toggleActiveState","_","value","button","viewRef","activate","deactivate","_getSubmitAction","needValidate","validationStatus","_createAction","_ref","event","submitInput","complete","status","validate","option","then","click","preventDefault","stopPropagation","_init","_addAction","_initMarkup","$content","$element","find","$template","children","filter","length","addClass","replaceWith","_patchOptionValues","options","templateData","_templateData","findGroup","_modelByElement"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAOC,gBAAP,MAA6B,4BAA7B;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,eAAe,MAAMC,aAAN,SAA4BD,SAA5B,CAAsC;AACvB,MAAtBE,sBAAsB,GAAG;AACzB,WAAOH,gBAAgB,CAACI,cAAjB,CAAgC,KAAKC,UAAL,EAAhC,CAAP;AACH;;AACDC,EAAAA,uBAAuB,GAAG;AACtB,WAAO,CAAC,SAAD,CAAP;AACH;;AACDC,EAAAA,oBAAoB,GAAG;AACnB,WAAO,CAAC,OAAD,EAAU,OAAV,CAAP;AACH;;AACDC,EAAAA,QAAQ,GAAG;AACP,QAAIC,KAAK,GAAG,MAAMD,QAAN,EAAZ;AACAC,IAAAA,KAAK,CAACC,eAAN,GAAwB,KAAKP,sBAA7B;AACA,WAAOM,KAAP;AACH;;AACiB,MAAdE,cAAc,GAAG;AACjB,WAAO;AACHC,MAAAA,QAAQ,EAAE;AADP,KAAP;AAGH;;AACDC,EAAAA,kBAAkB,CAACC,CAAD,EAAIC,KAAJ,EAAW;AACzB,QAAIC,MAAM,GAAG,KAAKC,OAAlB;AACAF,IAAAA,KAAK,GAAGC,MAAM,CAACE,QAAP,EAAH,GAAuBF,MAAM,CAACG,UAAP,EAA5B;AACH;;AACDC,EAAAA,gBAAgB,GAAG;AACf,QAAIC,YAAY,GAAG,IAAnB;AACA,QAAIC,gBAAgB,GAAG,OAAvB;AACA,WAAO,KAAKC,aAAL,CAAmBC,IAAI,IAAI;AAC9B,UAAI;AACAC,QAAAA,KAAK,EAAEA,KADP;AAEAC,QAAAA,WAAW,EAAEA;AAFb,UAGAF,IAHJ;;AAIA,UAAIH,YAAJ,EAAkB;AACd,YAAIX,eAAe,GAAG,KAAKP,sBAA3B;;AACA,YAAI,KAAK,CAAL,KAAWO,eAAX,IAA8B,OAAOA,eAAzC,EAA0D;AACtD,cAAI;AACAiB,YAAAA,QAAQ,EAAEA,QADV;AAEAC,YAAAA,MAAM,EAAEA;AAFR,cAGAlB,eAAe,CAACmB,QAAhB,EAHJ;AAIAP,UAAAA,gBAAgB,GAAGM,MAAnB;;AACA,cAAI,cAAcA,MAAlB,EAA0B;AACtBP,YAAAA,YAAY,GAAG,KAAf;AACA,iBAAKS,MAAL,CAAY,UAAZ,EAAwB,IAAxB;AACAH,YAAAA,QAAQ,CAACI,IAAT,CAAc,MAAM;AAChBV,cAAAA,YAAY,GAAG,IAAf;AACA,mBAAKS,MAAL,CAAY,UAAZ,EAAwB,KAAxB;AACAR,cAAAA,gBAAgB,GAAGM,MAAnB;AACA,0BAAYN,gBAAZ,IAAgCI,WAAW,CAACM,KAAZ,EAAhC;AACH,aALD;AAMH;AACJ;AACJ;;AACD,kBAAYV,gBAAZ,IAAgCG,KAAK,CAACQ,cAAN,EAAhC;AACAR,MAAAA,KAAK,CAACS,eAAN;AACH,KA3BM,CAAP;AA4BH;;AACDC,EAAAA,KAAK,GAAG;AACJ,UAAMA,KAAN;;AACA,SAAKC,UAAL,CAAgB,UAAhB,EAA4B,KAAKhB,gBAAL,EAA5B;AACH;;AACDiB,EAAAA,WAAW,GAAG;AACV,UAAMA,WAAN;;AACA,QAAIC,QAAQ,GAAG,KAAKC,QAAL,GAAgBC,IAAhB,CAAqB,oBAArB,CAAf;AACA,QAAIC,SAAS,GAAGH,QAAQ,CAACI,QAAT,GAAoBC,MAApB,CAA2B,sBAA3B,CAAhB;;AACA,QAAIF,SAAS,CAACG,MAAd,EAAsB;AAClBH,MAAAA,SAAS,CAACI,QAAV,CAAmB,mBAAnB;AACAP,MAAAA,QAAQ,CAACQ,WAAT,CAAqBL,SAArB;AACH;AACJ;;AACDM,EAAAA,kBAAkB,CAACC,OAAD,EAAU;AACxB,WAAO,MAAMD,kBAAN,CAAyBhD,QAAQ,CAAC,EAAD,EAAKiD,OAAL,EAAc;AAClDC,MAAAA,YAAY,EAAED,OAAO,CAACE;AAD4B,KAAd,CAAjC,CAAP;AAGH;;AACD7C,EAAAA,UAAU,GAAG;AACT,QAAIkC,QAAQ,GAAG,KAAKA,QAAL,EAAf;AACA,QAAI7B,eAAe,GAAG,KAAKoB,MAAL,CAAY,iBAAZ,CAAtB;AACA,WAAO,KAAK,CAAL,KAAWpB,eAAX,IAA8B,OAAOA,eAArC,GAAuDA,eAAvD,GAAyEV,gBAAgB,CAACmD,SAAjB,CAA2BZ,QAA3B,EAAqC,KAAKa,eAAL,CAAqBb,QAArB,CAArC,CAAhF;AACH;;AA9EgD","sourcesContent":["/**\r\n * DevExtreme (esm/renovation/component_wrapper/button.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport ValidationEngine from \"../../ui/validation_engine\";\r\nimport Component from \"./common/component\";\r\nexport default class ButtonWrapper extends Component {\r\n    get _validationGroupConfig() {\r\n        return ValidationEngine.getGroupConfig(this._findGroup())\r\n    }\r\n    getDefaultTemplateNames() {\r\n        return [\"content\"]\r\n    }\r\n    getSupportedKeyNames() {\r\n        return [\"space\", \"enter\"]\r\n    }\r\n    getProps() {\r\n        var props = super.getProps();\r\n        props.validationGroup = this._validationGroupConfig;\r\n        return props\r\n    }\r\n    get _templatesInfo() {\r\n        return {\r\n            template: \"content\"\r\n        }\r\n    }\r\n    _toggleActiveState(_, value) {\r\n        var button = this.viewRef;\r\n        value ? button.activate() : button.deactivate()\r\n    }\r\n    _getSubmitAction() {\r\n        var needValidate = true;\r\n        var validationStatus = \"valid\";\r\n        return this._createAction(_ref => {\r\n            var {\r\n                event: event,\r\n                submitInput: submitInput\r\n            } = _ref;\r\n            if (needValidate) {\r\n                var validationGroup = this._validationGroupConfig;\r\n                if (void 0 !== validationGroup && \"\" !== validationGroup) {\r\n                    var {\r\n                        complete: complete,\r\n                        status: status\r\n                    } = validationGroup.validate();\r\n                    validationStatus = status;\r\n                    if (\"pending\" === status) {\r\n                        needValidate = false;\r\n                        this.option(\"disabled\", true);\r\n                        complete.then(() => {\r\n                            needValidate = true;\r\n                            this.option(\"disabled\", false);\r\n                            validationStatus = status;\r\n                            \"valid\" === validationStatus && submitInput.click()\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n            \"valid\" !== validationStatus && event.preventDefault();\r\n            event.stopPropagation()\r\n        })\r\n    }\r\n    _init() {\r\n        super._init();\r\n        this._addAction(\"onSubmit\", this._getSubmitAction())\r\n    }\r\n    _initMarkup() {\r\n        super._initMarkup();\r\n        var $content = this.$element().find(\".dx-button-content\");\r\n        var $template = $content.children().filter(\".dx-template-wrapper\");\r\n        if ($template.length) {\r\n            $template.addClass(\"dx-button-content\");\r\n            $content.replaceWith($template)\r\n        }\r\n    }\r\n    _patchOptionValues(options) {\r\n        return super._patchOptionValues(_extends({}, options, {\r\n            templateData: options._templateData\r\n        }))\r\n    }\r\n    _findGroup() {\r\n        var $element = this.$element();\r\n        var validationGroup = this.option(\"validationGroup\");\r\n        return void 0 !== validationGroup && \"\" !== validationGroup ? validationGroup : ValidationEngine.findGroup($element, this._modelByElement($element))\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}