{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/popup/ui.popup.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport registerComponent from \"../../core/component_registrator\";\nimport devices from \"../../core/devices\";\nimport { getPublicElement } from \"../../core/element\";\nimport $ from \"../../core/renderer\";\nimport { EmptyTemplate } from \"../../core/templates/empty_template\";\nimport { inArray } from \"../../core/utils/array\";\nimport browser from \"../../core/utils/browser\";\nimport { noop } from \"../../core/utils/common\";\nimport { extend } from \"../../core/utils/extend\";\nimport { camelize } from \"../../core/utils/inflector\";\nimport { each } from \"../../core/utils/iterator\";\nimport { getVisibleHeight, addOffsetToMaxHeight, addOffsetToMinHeight, getVerticalOffsets, getOuterWidth, getWidth } from \"../../core/utils/size\";\nimport { getBoundingRect } from \"../../core/utils/position\";\nimport { isDefined } from \"../../core/utils/type\";\nimport { compare as compareVersions } from \"../../core/utils/version\";\nimport { getWindow, hasWindow } from \"../../core/utils/window\";\nimport { triggerResizeEvent } from \"../../events/visibility_change\";\nimport messageLocalization from \"../../localization/message\";\nimport Button from \"../button\";\nimport Overlay from \"../overlay/ui.overlay\";\nimport { isMaterial, current as currentTheme } from \"../themes\";\nimport \"../toolbar/ui.toolbar.base\";\nimport { PopupPositionController } from \"./popup_position_controller\";\nvar window = getWindow();\nvar POPUP_CLASS = \"dx-popup\";\nvar POPUP_WRAPPER_CLASS = \"dx-popup-wrapper\";\nvar POPUP_FULL_SCREEN_CLASS = \"dx-popup-fullscreen\";\nvar POPUP_FULL_SCREEN_WIDTH_CLASS = \"dx-popup-fullscreen-width\";\nvar POPUP_NORMAL_CLASS = \"dx-popup-normal\";\nvar POPUP_CONTENT_CLASS = \"dx-popup-content\";\nvar POPUP_DRAGGABLE_CLASS = \"dx-popup-draggable\";\nvar POPUP_TITLE_CLASS = \"dx-popup-title\";\nvar POPUP_TITLE_CLOSEBUTTON_CLASS = \"dx-closebutton\";\nvar POPUP_BOTTOM_CLASS = \"dx-popup-bottom\";\nvar POPUP_HAS_CLOSE_BUTTON_CLASS = \"dx-has-close-button\";\nvar TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\nvar POPUP_CONTENT_FLEX_HEIGHT_CLASS = \"dx-popup-flex-height\";\nvar POPUP_CONTENT_INHERIT_HEIGHT_CLASS = \"dx-popup-inherit-height\";\nvar ALLOWED_TOOLBAR_ITEM_ALIASES = [\"cancel\", \"clear\", \"done\"];\nvar BUTTON_DEFAULT_TYPE = \"default\";\nvar BUTTON_NORMAL_TYPE = \"normal\";\nvar BUTTON_TEXT_MODE = \"text\";\nvar BUTTON_CONTAINED_MODE = \"contained\";\nvar IS_OLD_SAFARI = browser.safari && compareVersions(browser.version, [11]) < 0;\nvar HEIGHT_STRATEGIES = {\n  static: \"\",\n  inherit: POPUP_CONTENT_INHERIT_HEIGHT_CLASS,\n  flex: POPUP_CONTENT_FLEX_HEIGHT_CLASS\n};\n\nvar getButtonPlace = name => {\n  var device = devices.current();\n  var platform = device.platform;\n  var toolbar = \"bottom\";\n  var location = \"before\";\n\n  if (\"ios\" === platform) {\n    switch (name) {\n      case \"cancel\":\n        toolbar = \"top\";\n        break;\n\n      case \"clear\":\n        toolbar = \"top\";\n        location = \"after\";\n        break;\n\n      case \"done\":\n        location = \"after\";\n    }\n  } else if (\"android\" === platform && device.version && parseInt(device.version[0]) > 4) {\n    switch (name) {\n      case \"cancel\":\n      case \"done\":\n        location = \"after\";\n    }\n  }\n\n  return {\n    toolbar: toolbar,\n    location: location\n  };\n};\n\nvar Popup = Overlay.inherit({\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      fullScreen: false,\n      title: \"\",\n      showTitle: true,\n      titleTemplate: \"title\",\n      onTitleRendered: null,\n      dragEnabled: false,\n      toolbarItems: [],\n      showCloseButton: false,\n      bottomTemplate: \"bottom\",\n      useDefaultToolbarButtons: false,\n      useFlatToolbarButtons: false,\n      autoResizeEnabled: true\n    });\n  },\n  _defaultOptionsRules: function () {\n    var themeName = currentTheme();\n    return this.callBase().concat([{\n      device: {\n        platform: \"ios\"\n      },\n      options: {\n        animation: this._iosAnimation\n      }\n    }, {\n      device: {\n        platform: \"android\"\n      },\n      options: {\n        animation: this._androidAnimation\n      }\n    }, {\n      device: {\n        platform: \"generic\"\n      },\n      options: {\n        showCloseButton: true\n      }\n    }, {\n      device: function (_device) {\n        return \"desktop\" === devices.real().deviceType && \"generic\" === _device.platform;\n      },\n      options: {\n        dragEnabled: true\n      }\n    }, {\n      device: function () {\n        return \"desktop\" === devices.real().deviceType && !devices.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }, {\n      device: function () {\n        return isMaterial(themeName);\n      },\n      options: {\n        useDefaultToolbarButtons: true,\n        useFlatToolbarButtons: true,\n        showCloseButton: false\n      }\n    }]);\n  },\n  _iosAnimation: {\n    show: {\n      type: \"slide\",\n      duration: 400,\n      from: {\n        position: {\n          my: \"top\",\n          at: \"bottom\"\n        }\n      },\n      to: {\n        position: {\n          my: \"center\",\n          at: \"center\"\n        }\n      }\n    },\n    hide: {\n      type: \"slide\",\n      duration: 400,\n      from: {\n        opacity: 1,\n        position: {\n          my: \"center\",\n          at: \"center\"\n        }\n      },\n      to: {\n        opacity: 1,\n        position: {\n          my: \"top\",\n          at: \"bottom\"\n        }\n      }\n    }\n  },\n  _androidAnimation: function () {\n    return this.option(\"fullScreen\") ? {\n      show: {\n        type: \"slide\",\n        duration: 300,\n        from: {\n          top: \"30%\",\n          opacity: 0\n        },\n        to: {\n          top: 0,\n          opacity: 1\n        }\n      },\n      hide: {\n        type: \"slide\",\n        duration: 300,\n        from: {\n          top: 0,\n          opacity: 1\n        },\n        to: {\n          top: \"30%\",\n          opacity: 0\n        }\n      }\n    } : {\n      show: {\n        type: \"fade\",\n        duration: 400,\n        from: 0,\n        to: 1\n      },\n      hide: {\n        type: \"fade\",\n        duration: 400,\n        from: 1,\n        to: 0\n      }\n    };\n  },\n  _init: function () {\n    this.callBase();\n    this.$element().addClass(POPUP_CLASS);\n    this.$wrapper().addClass(POPUP_WRAPPER_CLASS);\n    this._$popupContent = this._$content.wrapInner($(\"<div>\").addClass(POPUP_CONTENT_CLASS)).children().eq(0);\n  },\n  _render: function () {\n    var isFullscreen = this.option(\"fullScreen\");\n\n    this._toggleFullScreenClass(isFullscreen);\n\n    this.callBase();\n  },\n  _toggleFullScreenClass: function (value) {\n    this.$overlayContent().toggleClass(POPUP_FULL_SCREEN_CLASS, value).toggleClass(POPUP_NORMAL_CLASS, !value);\n  },\n  _initTemplates: function () {\n    this.callBase();\n\n    this._templateManager.addDefaultTemplates({\n      title: new EmptyTemplate(),\n      bottom: new EmptyTemplate()\n    });\n  },\n  _renderContentImpl: function () {\n    this._renderTitle();\n\n    this.callBase();\n\n    this._renderBottom();\n  },\n  _renderTitle: function () {\n    var items = this._getToolbarItems(\"top\");\n\n    var titleText = this.option(\"title\");\n    var showTitle = this.option(\"showTitle\");\n\n    if (showTitle && !!titleText) {\n      items.unshift({\n        location: devices.current().ios ? \"center\" : \"before\",\n        text: titleText\n      });\n    }\n\n    if (showTitle || items.length > 0) {\n      this._$title && this._$title.remove();\n      var $title = $(\"<div>\").addClass(POPUP_TITLE_CLASS).insertBefore(this.$content());\n      this._$title = this._renderTemplateByType(\"titleTemplate\", items, $title).addClass(POPUP_TITLE_CLASS);\n\n      this._renderDrag();\n\n      this._executeTitleRenderAction(this._$title);\n\n      this._$title.toggleClass(POPUP_HAS_CLOSE_BUTTON_CLASS, this._hasCloseButton());\n    } else if (this._$title) {\n      this._$title.detach();\n    }\n  },\n  _renderTemplateByType: function (optionName, data, $container, additionalToolbarOptions) {\n    var template = this._getTemplateByOption(optionName);\n\n    var toolbarTemplate = template instanceof EmptyTemplate;\n\n    if (toolbarTemplate) {\n      var integrationOptions = extend({}, this.option(\"integrationOptions\"), {\n        skipTemplates: [\"content\", \"title\"]\n      });\n      var toolbarOptions = extend(additionalToolbarOptions, {\n        items: data,\n        rtlEnabled: this.option(\"rtlEnabled\"),\n        useDefaultButtons: this.option(\"useDefaultToolbarButtons\"),\n        useFlatButtons: this.option(\"useFlatToolbarButtons\"),\n        integrationOptions: integrationOptions\n      });\n\n      this._getTemplate(\"dx-polymorph-widget\").render({\n        container: $container,\n        model: {\n          widget: \"dxToolbarBase\",\n          options: toolbarOptions\n        }\n      });\n\n      var $toolbar = $container.children(\"div\");\n      $container.replaceWith($toolbar);\n      return $toolbar;\n    } else {\n      var $result = $(template.render({\n        container: getPublicElement($container)\n      }));\n\n      if ($result.hasClass(TEMPLATE_WRAPPER_CLASS)) {\n        $container.replaceWith($result);\n        $container = $result;\n      }\n\n      return $container;\n    }\n  },\n  _executeTitleRenderAction: function ($titleElement) {\n    this._getTitleRenderAction()({\n      titleElement: getPublicElement($titleElement)\n    });\n  },\n  _getTitleRenderAction: function () {\n    return this._titleRenderAction || this._createTitleRenderAction();\n  },\n  _createTitleRenderAction: function () {\n    return this._titleRenderAction = this._createActionByOption(\"onTitleRendered\", {\n      element: this.element(),\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  _getCloseButton: function () {\n    return {\n      toolbar: \"top\",\n      location: \"after\",\n      template: this._getCloseButtonRenderer()\n    };\n  },\n  _getCloseButtonRenderer: function () {\n    return (_, __, container) => {\n      var $button = $(\"<div>\").addClass(POPUP_TITLE_CLOSEBUTTON_CLASS);\n\n      this._createComponent($button, Button, {\n        icon: \"close\",\n        onClick: this._createToolbarItemAction(void 0),\n        stylingMode: \"text\",\n        integrationOptions: {}\n      });\n\n      $(container).append($button);\n    };\n  },\n  _getToolbarItems: function (toolbar) {\n    var toolbarItems = this.option(\"toolbarItems\");\n    var toolbarsItems = [];\n    this._toolbarItemClasses = [];\n    var currentPlatform = devices.current().platform;\n    var index = 0;\n    each(toolbarItems, (_, data) => {\n      var isShortcut = isDefined(data.shortcut);\n      var item = isShortcut ? getButtonPlace(data.shortcut) : data;\n\n      if (isShortcut && \"ios\" === currentPlatform && index < 2) {\n        item.toolbar = \"top\";\n        index++;\n      }\n\n      item.toolbar = data.toolbar || item.toolbar || \"top\";\n\n      if (item && item.toolbar === toolbar) {\n        if (isShortcut) {\n          extend(item, {\n            location: data.location\n          }, this._getToolbarItemByAlias(data));\n        }\n\n        var isLTROrder = \"generic\" === currentPlatform;\n\n        if (\"done\" === data.shortcut && isLTROrder || \"cancel\" === data.shortcut && !isLTROrder) {\n          toolbarsItems.unshift(item);\n        } else {\n          toolbarsItems.push(item);\n        }\n      }\n    });\n\n    if (\"top\" === toolbar && this._hasCloseButton()) {\n      toolbarsItems.push(this._getCloseButton());\n    }\n\n    return toolbarsItems;\n  },\n\n  _hasCloseButton() {\n    return this.option(\"showCloseButton\") && this.option(\"showTitle\");\n  },\n\n  _getLocalizationKey: itemType => \"done\" === itemType.toLowerCase() ? \"OK\" : camelize(itemType, true),\n  _getToolbarItemByAlias: function (data) {\n    var that = this;\n    var itemType = data.shortcut;\n\n    if (inArray(itemType, ALLOWED_TOOLBAR_ITEM_ALIASES) < 0) {\n      return false;\n    }\n\n    var itemConfig = extend({\n      text: messageLocalization.format(this._getLocalizationKey(itemType)),\n      onClick: this._createToolbarItemAction(data.onClick),\n      integrationOptions: {},\n      type: that.option(\"useDefaultToolbarButtons\") ? BUTTON_DEFAULT_TYPE : BUTTON_NORMAL_TYPE,\n      stylingMode: that.option(\"useFlatToolbarButtons\") ? BUTTON_TEXT_MODE : BUTTON_CONTAINED_MODE\n    }, data.options || {});\n    var itemClass = POPUP_CLASS + \"-\" + itemType;\n\n    this._toolbarItemClasses.push(itemClass);\n\n    return {\n      template: function (_, __, container) {\n        var $toolbarItem = $(\"<div>\").addClass(itemClass).appendTo(container);\n\n        that._createComponent($toolbarItem, Button, itemConfig);\n      }\n    };\n  },\n  _createToolbarItemAction: function (clickAction) {\n    return this._createAction(clickAction, {\n      afterExecute: function (e) {\n        e.component.hide();\n      }\n    });\n  },\n  _renderBottom: function () {\n    var items = this._getToolbarItems(\"bottom\");\n\n    if (items.length) {\n      this._$bottom && this._$bottom.remove();\n      var $bottom = $(\"<div>\").addClass(POPUP_BOTTOM_CLASS).insertAfter(this.$content());\n      this._$bottom = this._renderTemplateByType(\"bottomTemplate\", items, $bottom, {\n        compactMode: true\n      }).addClass(POPUP_BOTTOM_CLASS);\n\n      this._toggleClasses();\n    } else {\n      this._$bottom && this._$bottom.detach();\n    }\n  },\n  _toggleClasses: function () {\n    var aliases = ALLOWED_TOOLBAR_ITEM_ALIASES;\n    each(aliases, (_, alias) => {\n      var className = POPUP_CLASS + \"-\" + alias;\n\n      if (inArray(className, this._toolbarItemClasses) >= 0) {\n        this.$wrapper().addClass(className + \"-visible\");\n\n        this._$bottom.addClass(className);\n      } else {\n        this.$wrapper().removeClass(className + \"-visible\");\n\n        this._$bottom.removeClass(className);\n      }\n    });\n  },\n\n  _getPositionControllerConfig() {\n    var {\n      fullScreen: fullScreen,\n      forceApplyBindings: forceApplyBindings\n    } = this.option();\n    return extend({}, this.callBase(), {\n      fullScreen: fullScreen,\n      forceApplyBindings: forceApplyBindings\n    });\n  },\n\n  _initPositionController() {\n    this._positionController = new PopupPositionController(this._getPositionControllerConfig());\n  },\n\n  _getDragTarget: function () {\n    return this.topToolbar();\n  },\n  _renderGeometryImpl: function () {\n    this._resetContentHeight();\n\n    this.callBase();\n\n    this._setContentHeight();\n  },\n  _resetContentHeight: function () {\n    var height = this._getOptionValue(\"height\");\n\n    if (\"auto\" === height) {\n      this.$content().css({\n        height: \"auto\",\n        maxHeight: \"none\"\n      });\n    }\n  },\n  _renderDrag: function () {\n    this.callBase();\n    this.$overlayContent().toggleClass(POPUP_DRAGGABLE_CLASS, this.option(\"dragEnabled\"));\n  },\n  _renderResize: function () {\n    this.callBase();\n\n    this._resizable.option(\"onResize\", function () {\n      this._setContentHeight();\n\n      this._actions.onResize(arguments);\n    }.bind(this));\n  },\n  _setContentHeight: function () {\n    (this.option(\"forceApplyBindings\") || noop)();\n    var overlayContent = this.$overlayContent().get(0);\n\n    var currentHeightStrategyClass = this._chooseHeightStrategy(overlayContent);\n\n    this.$content().css(this._getHeightCssStyles(currentHeightStrategyClass, overlayContent));\n\n    this._setHeightClasses(this.$overlayContent(), currentHeightStrategyClass);\n  },\n  _heightStrategyChangeOffset: function (currentHeightStrategyClass, popupVerticalPaddings) {\n    return currentHeightStrategyClass === HEIGHT_STRATEGIES.flex ? -popupVerticalPaddings : 0;\n  },\n  _chooseHeightStrategy: function (overlayContent) {\n    var isAutoWidth = \"auto\" === overlayContent.style.width || \"\" === overlayContent.style.width;\n    var currentHeightStrategyClass = HEIGHT_STRATEGIES.static;\n\n    if (this._isAutoHeight() && this.option(\"autoResizeEnabled\")) {\n      if (isAutoWidth || IS_OLD_SAFARI) {\n        currentHeightStrategyClass = HEIGHT_STRATEGIES.inherit;\n      } else {\n        currentHeightStrategyClass = HEIGHT_STRATEGIES.flex;\n      }\n    }\n\n    return currentHeightStrategyClass;\n  },\n  _getHeightCssStyles: function (currentHeightStrategyClass, overlayContent) {\n    var cssStyles = {};\n\n    var contentMaxHeight = this._getOptionValue(\"maxHeight\", overlayContent);\n\n    var contentMinHeight = this._getOptionValue(\"minHeight\", overlayContent);\n\n    var popupHeightParts = this._splitPopupHeight();\n\n    var toolbarsAndVerticalOffsetsHeight = popupHeightParts.header + popupHeightParts.footer + popupHeightParts.contentVerticalOffsets + popupHeightParts.popupVerticalOffsets + this._heightStrategyChangeOffset(currentHeightStrategyClass, popupHeightParts.popupVerticalPaddings);\n\n    if (currentHeightStrategyClass === HEIGHT_STRATEGIES.static) {\n      if (!this._isAutoHeight() || contentMaxHeight || contentMinHeight) {\n        var overlayHeight = this.option(\"fullScreen\") ? Math.min(getBoundingRect(overlayContent).height, getWindow().innerHeight) : getBoundingRect(overlayContent).height;\n        var contentHeight = overlayHeight - toolbarsAndVerticalOffsetsHeight;\n        cssStyles = {\n          height: Math.max(0, contentHeight),\n          minHeight: \"auto\",\n          maxHeight: \"auto\"\n        };\n      }\n    } else {\n      var container = $(this._positionController._$wrapperCoveredElement).get(0);\n      var maxHeightValue = addOffsetToMaxHeight(contentMaxHeight, -toolbarsAndVerticalOffsetsHeight, container);\n      var minHeightValue = addOffsetToMinHeight(contentMinHeight, -toolbarsAndVerticalOffsetsHeight, container);\n      cssStyles = {\n        height: \"auto\",\n        minHeight: minHeightValue,\n        maxHeight: maxHeightValue\n      };\n    }\n\n    return cssStyles;\n  },\n  _setHeightClasses: function ($container, currentClass) {\n    var excessClasses = \"\";\n\n    for (var name in HEIGHT_STRATEGIES) {\n      if (HEIGHT_STRATEGIES[name] !== currentClass) {\n        excessClasses += \" \" + HEIGHT_STRATEGIES[name];\n      }\n    }\n\n    $container.removeClass(excessClasses).addClass(currentClass);\n  },\n  _isAutoHeight: function () {\n    return \"auto\" === this.$overlayContent().get(0).style.height;\n  },\n  _splitPopupHeight: function () {\n    var topToolbar = this.topToolbar();\n    var bottomToolbar = this.bottomToolbar();\n    return {\n      header: getVisibleHeight(topToolbar && topToolbar.get(0)),\n      footer: getVisibleHeight(bottomToolbar && bottomToolbar.get(0)),\n      contentVerticalOffsets: getVerticalOffsets(this.$overlayContent().get(0), true),\n      popupVerticalOffsets: getVerticalOffsets(this.$content().get(0), true),\n      popupVerticalPaddings: getVerticalOffsets(this.$content().get(0), false)\n    };\n  },\n  _isAllWindowCovered: function () {\n    return this.callBase() || this.option(\"fullScreen\");\n  },\n  _renderDimensions: function () {\n    if (this.option(\"fullScreen\")) {\n      this.$overlayContent().css({\n        width: \"100%\",\n        height: \"100%\",\n        minWidth: \"\",\n        maxWidth: \"\",\n        minHeight: \"\",\n        maxHeight: \"\"\n      });\n    } else {\n      this.callBase();\n    }\n\n    if (hasWindow()) {\n      this._renderFullscreenWidthClass();\n    }\n  },\n  _renderFullscreenWidthClass: function () {\n    this.$overlayContent().toggleClass(POPUP_FULL_SCREEN_WIDTH_CLASS, getOuterWidth(this.$overlayContent()) === getWidth(window));\n  },\n  refreshPosition: function () {\n    this._renderPosition();\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"showTitle\":\n      case \"title\":\n      case \"titleTemplate\":\n        this._renderTitle();\n\n        this._renderGeometry();\n\n        triggerResizeEvent(this.$overlayContent());\n        break;\n\n      case \"bottomTemplate\":\n        this._renderBottom();\n\n        this._renderGeometry();\n\n        triggerResizeEvent(this.$overlayContent());\n        break;\n\n      case \"onTitleRendered\":\n        this._createTitleRenderAction(args.value);\n\n        break;\n\n      case \"toolbarItems\":\n      case \"useDefaultToolbarButtons\":\n      case \"useFlatToolbarButtons\":\n        var shouldRenderGeometry = !args.fullName.match(/^toolbarItems((\\[\\d+\\])(\\.(options|visible).*)?)?$/);\n\n        this._renderTitle();\n\n        this._renderBottom();\n\n        if (shouldRenderGeometry) {\n          this._renderGeometry();\n\n          triggerResizeEvent(this.$overlayContent());\n        }\n\n        break;\n\n      case \"dragEnabled\":\n        this._renderDrag();\n\n        break;\n\n      case \"autoResizeEnabled\":\n        this._renderGeometry();\n\n        triggerResizeEvent(this.$overlayContent());\n        break;\n\n      case \"fullScreen\":\n        this._positionController.fullScreen = args.value;\n\n        this._toggleFullScreenClass(args.value);\n\n        this._toggleSafariScrolling();\n\n        this._renderGeometry();\n\n        triggerResizeEvent(this.$overlayContent());\n        break;\n\n      case \"showCloseButton\":\n        this._renderTitle();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  bottomToolbar: function () {\n    return this._$bottom;\n  },\n  topToolbar: function () {\n    return this._$title;\n  },\n  $content: function () {\n    return this._$popupContent;\n  },\n  content: function () {\n    return getPublicElement(this.$content());\n  },\n  $overlayContent: function () {\n    return this._$content;\n  }\n});\nregisterComponent(\"dxPopup\", Popup);\nexport default Popup;","map":{"version":3,"sources":["/Users/rahulsharma/node_modules/devextreme/esm/ui/popup/ui.popup.js"],"names":["registerComponent","devices","getPublicElement","$","EmptyTemplate","inArray","browser","noop","extend","camelize","each","getVisibleHeight","addOffsetToMaxHeight","addOffsetToMinHeight","getVerticalOffsets","getOuterWidth","getWidth","getBoundingRect","isDefined","compare","compareVersions","getWindow","hasWindow","triggerResizeEvent","messageLocalization","Button","Overlay","isMaterial","current","currentTheme","PopupPositionController","window","POPUP_CLASS","POPUP_WRAPPER_CLASS","POPUP_FULL_SCREEN_CLASS","POPUP_FULL_SCREEN_WIDTH_CLASS","POPUP_NORMAL_CLASS","POPUP_CONTENT_CLASS","POPUP_DRAGGABLE_CLASS","POPUP_TITLE_CLASS","POPUP_TITLE_CLOSEBUTTON_CLASS","POPUP_BOTTOM_CLASS","POPUP_HAS_CLOSE_BUTTON_CLASS","TEMPLATE_WRAPPER_CLASS","POPUP_CONTENT_FLEX_HEIGHT_CLASS","POPUP_CONTENT_INHERIT_HEIGHT_CLASS","ALLOWED_TOOLBAR_ITEM_ALIASES","BUTTON_DEFAULT_TYPE","BUTTON_NORMAL_TYPE","BUTTON_TEXT_MODE","BUTTON_CONTAINED_MODE","IS_OLD_SAFARI","safari","version","HEIGHT_STRATEGIES","static","inherit","flex","getButtonPlace","name","device","platform","toolbar","location","parseInt","Popup","_getDefaultOptions","callBase","fullScreen","title","showTitle","titleTemplate","onTitleRendered","dragEnabled","toolbarItems","showCloseButton","bottomTemplate","useDefaultToolbarButtons","useFlatToolbarButtons","autoResizeEnabled","_defaultOptionsRules","themeName","concat","options","animation","_iosAnimation","_androidAnimation","_device","real","deviceType","isSimulator","focusStateEnabled","show","type","duration","from","position","my","at","to","hide","opacity","option","top","_init","$element","addClass","$wrapper","_$popupContent","_$content","wrapInner","children","eq","_render","isFullscreen","_toggleFullScreenClass","value","$overlayContent","toggleClass","_initTemplates","_templateManager","addDefaultTemplates","bottom","_renderContentImpl","_renderTitle","_renderBottom","items","_getToolbarItems","titleText","unshift","ios","text","length","_$title","remove","$title","insertBefore","$content","_renderTemplateByType","_renderDrag","_executeTitleRenderAction","_hasCloseButton","detach","optionName","data","$container","additionalToolbarOptions","template","_getTemplateByOption","toolbarTemplate","integrationOptions","skipTemplates","toolbarOptions","rtlEnabled","useDefaultButtons","useFlatButtons","_getTemplate","render","container","model","widget","$toolbar","replaceWith","$result","hasClass","$titleElement","_getTitleRenderAction","titleElement","_titleRenderAction","_createTitleRenderAction","_createActionByOption","element","excludeValidators","_getCloseButton","_getCloseButtonRenderer","_","__","$button","_createComponent","icon","onClick","_createToolbarItemAction","stylingMode","append","toolbarsItems","_toolbarItemClasses","currentPlatform","index","isShortcut","shortcut","item","_getToolbarItemByAlias","isLTROrder","push","_getLocalizationKey","itemType","toLowerCase","that","itemConfig","format","itemClass","$toolbarItem","appendTo","clickAction","_createAction","afterExecute","e","component","_$bottom","$bottom","insertAfter","compactMode","_toggleClasses","aliases","alias","className","removeClass","_getPositionControllerConfig","forceApplyBindings","_initPositionController","_positionController","_getDragTarget","topToolbar","_renderGeometryImpl","_resetContentHeight","_setContentHeight","height","_getOptionValue","css","maxHeight","_renderResize","_resizable","_actions","onResize","arguments","bind","overlayContent","get","currentHeightStrategyClass","_chooseHeightStrategy","_getHeightCssStyles","_setHeightClasses","_heightStrategyChangeOffset","popupVerticalPaddings","isAutoWidth","style","width","_isAutoHeight","cssStyles","contentMaxHeight","contentMinHeight","popupHeightParts","_splitPopupHeight","toolbarsAndVerticalOffsetsHeight","header","footer","contentVerticalOffsets","popupVerticalOffsets","overlayHeight","Math","min","innerHeight","contentHeight","max","minHeight","_$wrapperCoveredElement","maxHeightValue","minHeightValue","currentClass","excessClasses","bottomToolbar","_isAllWindowCovered","_renderDimensions","minWidth","maxWidth","_renderFullscreenWidthClass","refreshPosition","_renderPosition","_optionChanged","args","_renderGeometry","shouldRenderGeometry","fullName","match","_toggleSafariScrolling","content"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,iBAAP,MAA8B,kCAA9B;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,SACIC,gBADJ,QAEO,oBAFP;AAGA,OAAOC,CAAP,MAAc,qBAAd;AACA,SACIC,aADJ,QAEO,qCAFP;AAGA,SACIC,OADJ,QAEO,wBAFP;AAGA,OAAOC,OAAP,MAAoB,0BAApB;AACA,SACIC,IADJ,QAEO,yBAFP;AAGA,SACIC,MADJ,QAEO,yBAFP;AAGA,SACIC,QADJ,QAEO,4BAFP;AAGA,SACIC,IADJ,QAEO,2BAFP;AAGA,SACIC,gBADJ,EAEIC,oBAFJ,EAGIC,oBAHJ,EAIIC,kBAJJ,EAKIC,aALJ,EAMIC,QANJ,QAOO,uBAPP;AAQA,SACIC,eADJ,QAEO,2BAFP;AAGA,SACIC,SADJ,QAEO,uBAFP;AAGA,SACIC,OAAO,IAAIC,eADf,QAEO,0BAFP;AAGA,SACIC,SADJ,EAEIC,SAFJ,QAGO,yBAHP;AAIA,SACIC,kBADJ,QAEO,gCAFP;AAGA,OAAOC,mBAAP,MAAgC,4BAAhC;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SACIC,UADJ,EAEIC,OAAO,IAAIC,YAFf,QAGO,WAHP;AAIA,OAAO,4BAAP;AACA,SACIC,uBADJ,QAEO,6BAFP;AAGA,IAAIC,MAAM,GAAGV,SAAS,EAAtB;AACA,IAAIW,WAAW,GAAG,UAAlB;AACA,IAAIC,mBAAmB,GAAG,kBAA1B;AACA,IAAIC,uBAAuB,GAAG,qBAA9B;AACA,IAAIC,6BAA6B,GAAG,2BAApC;AACA,IAAIC,kBAAkB,GAAG,iBAAzB;AACA,IAAIC,mBAAmB,GAAG,kBAA1B;AACA,IAAIC,qBAAqB,GAAG,oBAA5B;AACA,IAAIC,iBAAiB,GAAG,gBAAxB;AACA,IAAIC,6BAA6B,GAAG,gBAApC;AACA,IAAIC,kBAAkB,GAAG,iBAAzB;AACA,IAAIC,4BAA4B,GAAG,qBAAnC;AACA,IAAIC,sBAAsB,GAAG,qBAA7B;AACA,IAAIC,+BAA+B,GAAG,sBAAtC;AACA,IAAIC,kCAAkC,GAAG,yBAAzC;AACA,IAAIC,4BAA4B,GAAG,CAAC,QAAD,EAAW,OAAX,EAAoB,MAApB,CAAnC;AACA,IAAIC,mBAAmB,GAAG,SAA1B;AACA,IAAIC,kBAAkB,GAAG,QAAzB;AACA,IAAIC,gBAAgB,GAAG,MAAvB;AACA,IAAIC,qBAAqB,GAAG,WAA5B;AACA,IAAIC,aAAa,GAAG7C,OAAO,CAAC8C,MAAR,IAAkBhC,eAAe,CAACd,OAAO,CAAC+C,OAAT,EAAkB,CAAC,EAAD,CAAlB,CAAf,GAAyC,CAA/E;AACA,IAAIC,iBAAiB,GAAG;AACpBC,EAAAA,MAAM,EAAE,EADY;AAEpBC,EAAAA,OAAO,EAAEX,kCAFW;AAGpBY,EAAAA,IAAI,EAAEb;AAHc,CAAxB;;AAKA,IAAIc,cAAc,GAAGC,IAAI,IAAI;AACzB,MAAIC,MAAM,GAAG3D,OAAO,CAAC2B,OAAR,EAAb;AACA,MAAIiC,QAAQ,GAAGD,MAAM,CAACC,QAAtB;AACA,MAAIC,OAAO,GAAG,QAAd;AACA,MAAIC,QAAQ,GAAG,QAAf;;AACA,MAAI,UAAUF,QAAd,EAAwB;AACpB,YAAQF,IAAR;AACI,WAAK,QAAL;AACIG,QAAAA,OAAO,GAAG,KAAV;AACA;;AACJ,WAAK,OAAL;AACIA,QAAAA,OAAO,GAAG,KAAV;AACAC,QAAAA,QAAQ,GAAG,OAAX;AACA;;AACJ,WAAK,MAAL;AACIA,QAAAA,QAAQ,GAAG,OAAX;AATR;AAWH,GAZD,MAYO,IAAI,cAAcF,QAAd,IAA0BD,MAAM,CAACP,OAAjC,IAA4CW,QAAQ,CAACJ,MAAM,CAACP,OAAP,CAAe,CAAf,CAAD,CAAR,GAA8B,CAA9E,EAAiF;AACpF,YAAQM,IAAR;AACI,WAAK,QAAL;AACA,WAAK,MAAL;AACII,QAAAA,QAAQ,GAAG,OAAX;AAHR;AAKH;;AACD,SAAO;AACHD,IAAAA,OAAO,EAAEA,OADN;AAEHC,IAAAA,QAAQ,EAAEA;AAFP,GAAP;AAIH,CA5BD;;AA6BA,IAAIE,KAAK,GAAGvC,OAAO,CAAC8B,OAAR,CAAgB;AACxBU,EAAAA,kBAAkB,EAAE,YAAW;AAC3B,WAAO1D,MAAM,CAAC,KAAK2D,QAAL,EAAD,EAAkB;AAC3BC,MAAAA,UAAU,EAAE,KADe;AAE3BC,MAAAA,KAAK,EAAE,EAFoB;AAG3BC,MAAAA,SAAS,EAAE,IAHgB;AAI3BC,MAAAA,aAAa,EAAE,OAJY;AAK3BC,MAAAA,eAAe,EAAE,IALU;AAM3BC,MAAAA,WAAW,EAAE,KANc;AAO3BC,MAAAA,YAAY,EAAE,EAPa;AAQ3BC,MAAAA,eAAe,EAAE,KARU;AAS3BC,MAAAA,cAAc,EAAE,QATW;AAU3BC,MAAAA,wBAAwB,EAAE,KAVC;AAW3BC,MAAAA,qBAAqB,EAAE,KAXI;AAY3BC,MAAAA,iBAAiB,EAAE;AAZQ,KAAlB,CAAb;AAcH,GAhBuB;AAiBxBC,EAAAA,oBAAoB,EAAE,YAAW;AAC7B,QAAIC,SAAS,GAAGpD,YAAY,EAA5B;AACA,WAAO,KAAKsC,QAAL,GAAgBe,MAAhB,CAAuB,CAAC;AAC3BtB,MAAAA,MAAM,EAAE;AACJC,QAAAA,QAAQ,EAAE;AADN,OADmB;AAI3BsB,MAAAA,OAAO,EAAE;AACLC,QAAAA,SAAS,EAAE,KAAKC;AADX;AAJkB,KAAD,EAO3B;AACCzB,MAAAA,MAAM,EAAE;AACJC,QAAAA,QAAQ,EAAE;AADN,OADT;AAICsB,MAAAA,OAAO,EAAE;AACLC,QAAAA,SAAS,EAAE,KAAKE;AADX;AAJV,KAP2B,EAc3B;AACC1B,MAAAA,MAAM,EAAE;AACJC,QAAAA,QAAQ,EAAE;AADN,OADT;AAICsB,MAAAA,OAAO,EAAE;AACLR,QAAAA,eAAe,EAAE;AADZ;AAJV,KAd2B,EAqB3B;AACCf,MAAAA,MAAM,EAAE,UAAS2B,OAAT,EAAkB;AACtB,eAAO,cAActF,OAAO,CAACuF,IAAR,GAAeC,UAA7B,IAA2C,cAAcF,OAAO,CAAC1B,QAAxE;AACH,OAHF;AAICsB,MAAAA,OAAO,EAAE;AACLV,QAAAA,WAAW,EAAE;AADR;AAJV,KArB2B,EA4B3B;AACCb,MAAAA,MAAM,EAAE,YAAW;AACf,eAAO,cAAc3D,OAAO,CAACuF,IAAR,GAAeC,UAA7B,IAA2C,CAACxF,OAAO,CAACyF,WAAR,EAAnD;AACH,OAHF;AAICP,MAAAA,OAAO,EAAE;AACLQ,QAAAA,iBAAiB,EAAE;AADd;AAJV,KA5B2B,EAmC3B;AACC/B,MAAAA,MAAM,EAAE,YAAW;AACf,eAAOjC,UAAU,CAACsD,SAAD,CAAjB;AACH,OAHF;AAICE,MAAAA,OAAO,EAAE;AACLN,QAAAA,wBAAwB,EAAE,IADrB;AAELC,QAAAA,qBAAqB,EAAE,IAFlB;AAGLH,QAAAA,eAAe,EAAE;AAHZ;AAJV,KAnC2B,CAAvB,CAAP;AA6CH,GAhEuB;AAiExBU,EAAAA,aAAa,EAAE;AACXO,IAAAA,IAAI,EAAE;AACFC,MAAAA,IAAI,EAAE,OADJ;AAEFC,MAAAA,QAAQ,EAAE,GAFR;AAGFC,MAAAA,IAAI,EAAE;AACFC,QAAAA,QAAQ,EAAE;AACNC,UAAAA,EAAE,EAAE,KADE;AAENC,UAAAA,EAAE,EAAE;AAFE;AADR,OAHJ;AASFC,MAAAA,EAAE,EAAE;AACAH,QAAAA,QAAQ,EAAE;AACNC,UAAAA,EAAE,EAAE,QADE;AAENC,UAAAA,EAAE,EAAE;AAFE;AADV;AATF,KADK;AAiBXE,IAAAA,IAAI,EAAE;AACFP,MAAAA,IAAI,EAAE,OADJ;AAEFC,MAAAA,QAAQ,EAAE,GAFR;AAGFC,MAAAA,IAAI,EAAE;AACFM,QAAAA,OAAO,EAAE,CADP;AAEFL,QAAAA,QAAQ,EAAE;AACNC,UAAAA,EAAE,EAAE,QADE;AAENC,UAAAA,EAAE,EAAE;AAFE;AAFR,OAHJ;AAUFC,MAAAA,EAAE,EAAE;AACAE,QAAAA,OAAO,EAAE,CADT;AAEAL,QAAAA,QAAQ,EAAE;AACNC,UAAAA,EAAE,EAAE,KADE;AAENC,UAAAA,EAAE,EAAE;AAFE;AAFV;AAVF;AAjBK,GAjES;AAqGxBZ,EAAAA,iBAAiB,EAAE,YAAW;AAC1B,WAAO,KAAKgB,MAAL,CAAY,YAAZ,IAA4B;AAC/BV,MAAAA,IAAI,EAAE;AACFC,QAAAA,IAAI,EAAE,OADJ;AAEFC,QAAAA,QAAQ,EAAE,GAFR;AAGFC,QAAAA,IAAI,EAAE;AACFQ,UAAAA,GAAG,EAAE,KADH;AAEFF,UAAAA,OAAO,EAAE;AAFP,SAHJ;AAOFF,QAAAA,EAAE,EAAE;AACAI,UAAAA,GAAG,EAAE,CADL;AAEAF,UAAAA,OAAO,EAAE;AAFT;AAPF,OADyB;AAa/BD,MAAAA,IAAI,EAAE;AACFP,QAAAA,IAAI,EAAE,OADJ;AAEFC,QAAAA,QAAQ,EAAE,GAFR;AAGFC,QAAAA,IAAI,EAAE;AACFQ,UAAAA,GAAG,EAAE,CADH;AAEFF,UAAAA,OAAO,EAAE;AAFP,SAHJ;AAOFF,QAAAA,EAAE,EAAE;AACAI,UAAAA,GAAG,EAAE,KADL;AAEAF,UAAAA,OAAO,EAAE;AAFT;AAPF;AAbyB,KAA5B,GAyBH;AACAT,MAAAA,IAAI,EAAE;AACFC,QAAAA,IAAI,EAAE,MADJ;AAEFC,QAAAA,QAAQ,EAAE,GAFR;AAGFC,QAAAA,IAAI,EAAE,CAHJ;AAIFI,QAAAA,EAAE,EAAE;AAJF,OADN;AAOAC,MAAAA,IAAI,EAAE;AACFP,QAAAA,IAAI,EAAE,MADJ;AAEFC,QAAAA,QAAQ,EAAE,GAFR;AAGFC,QAAAA,IAAI,EAAE,CAHJ;AAIFI,QAAAA,EAAE,EAAE;AAJF;AAPN,KAzBJ;AAuCH,GA7IuB;AA8IxBK,EAAAA,KAAK,EAAE,YAAW;AACd,SAAKrC,QAAL;AACA,SAAKsC,QAAL,GAAgBC,QAAhB,CAAyB1E,WAAzB;AACA,SAAK2E,QAAL,GAAgBD,QAAhB,CAAyBzE,mBAAzB;AACA,SAAK2E,cAAL,GAAsB,KAAKC,SAAL,CAAeC,SAAf,CAAyB3G,CAAC,CAAC,OAAD,CAAD,CAAWuG,QAAX,CAAoBrE,mBAApB,CAAzB,EAAmE0E,QAAnE,GAA8EC,EAA9E,CAAiF,CAAjF,CAAtB;AACH,GAnJuB;AAoJxBC,EAAAA,OAAO,EAAE,YAAW;AAChB,QAAIC,YAAY,GAAG,KAAKZ,MAAL,CAAY,YAAZ,CAAnB;;AACA,SAAKa,sBAAL,CAA4BD,YAA5B;;AACA,SAAK/C,QAAL;AACH,GAxJuB;AAyJxBgD,EAAAA,sBAAsB,EAAE,UAASC,KAAT,EAAgB;AACpC,SAAKC,eAAL,GAAuBC,WAAvB,CAAmCpF,uBAAnC,EAA4DkF,KAA5D,EAAmEE,WAAnE,CAA+ElF,kBAA/E,EAAmG,CAACgF,KAApG;AACH,GA3JuB;AA4JxBG,EAAAA,cAAc,EAAE,YAAW;AACvB,SAAKpD,QAAL;;AACA,SAAKqD,gBAAL,CAAsBC,mBAAtB,CAA0C;AACtCpD,MAAAA,KAAK,EAAE,IAAIjE,aAAJ,EAD+B;AAEtCsH,MAAAA,MAAM,EAAE,IAAItH,aAAJ;AAF8B,KAA1C;AAIH,GAlKuB;AAmKxBuH,EAAAA,kBAAkB,EAAE,YAAW;AAC3B,SAAKC,YAAL;;AACA,SAAKzD,QAAL;;AACA,SAAK0D,aAAL;AACH,GAvKuB;AAwKxBD,EAAAA,YAAY,EAAE,YAAW;AACrB,QAAIE,KAAK,GAAG,KAAKC,gBAAL,CAAsB,KAAtB,CAAZ;;AACA,QAAIC,SAAS,GAAG,KAAK1B,MAAL,CAAY,OAAZ,CAAhB;AACA,QAAIhC,SAAS,GAAG,KAAKgC,MAAL,CAAY,WAAZ,CAAhB;;AACA,QAAIhC,SAAS,IAAI,CAAC,CAAC0D,SAAnB,EAA8B;AAC1BF,MAAAA,KAAK,CAACG,OAAN,CAAc;AACVlE,QAAAA,QAAQ,EAAE9D,OAAO,CAAC2B,OAAR,GAAkBsG,GAAlB,GAAwB,QAAxB,GAAmC,QADnC;AAEVC,QAAAA,IAAI,EAAEH;AAFI,OAAd;AAIH;;AACD,QAAI1D,SAAS,IAAIwD,KAAK,CAACM,MAAN,GAAe,CAAhC,EAAmC;AAC/B,WAAKC,OAAL,IAAgB,KAAKA,OAAL,CAAaC,MAAb,EAAhB;AACA,UAAIC,MAAM,GAAGpI,CAAC,CAAC,OAAD,CAAD,CAAWuG,QAAX,CAAoBnE,iBAApB,EAAuCiG,YAAvC,CAAoD,KAAKC,QAAL,EAApD,CAAb;AACA,WAAKJ,OAAL,GAAe,KAAKK,qBAAL,CAA2B,eAA3B,EAA4CZ,KAA5C,EAAmDS,MAAnD,EAA2D7B,QAA3D,CAAoEnE,iBAApE,CAAf;;AACA,WAAKoG,WAAL;;AACA,WAAKC,yBAAL,CAA+B,KAAKP,OAApC;;AACA,WAAKA,OAAL,CAAaf,WAAb,CAAyB5E,4BAAzB,EAAuD,KAAKmG,eAAL,EAAvD;AACH,KAPD,MAOO,IAAI,KAAKR,OAAT,EAAkB;AACrB,WAAKA,OAAL,CAAaS,MAAb;AACH;AACJ,GA5LuB;AA6LxBJ,EAAAA,qBAAqB,EAAE,UAASK,UAAT,EAAqBC,IAArB,EAA2BC,UAA3B,EAAuCC,wBAAvC,EAAiE;AACpF,QAAIC,QAAQ,GAAG,KAAKC,oBAAL,CAA0BL,UAA1B,CAAf;;AACA,QAAIM,eAAe,GAAGF,QAAQ,YAAY/I,aAA1C;;AACA,QAAIiJ,eAAJ,EAAqB;AACjB,UAAIC,kBAAkB,GAAG9I,MAAM,CAAC,EAAD,EAAK,KAAK8F,MAAL,CAAY,oBAAZ,CAAL,EAAwC;AACnEiD,QAAAA,aAAa,EAAE,CAAC,SAAD,EAAY,OAAZ;AADoD,OAAxC,CAA/B;AAGA,UAAIC,cAAc,GAAGhJ,MAAM,CAAC0I,wBAAD,EAA2B;AAClDpB,QAAAA,KAAK,EAAEkB,IAD2C;AAElDS,QAAAA,UAAU,EAAE,KAAKnD,MAAL,CAAY,YAAZ,CAFsC;AAGlDoD,QAAAA,iBAAiB,EAAE,KAAKpD,MAAL,CAAY,0BAAZ,CAH+B;AAIlDqD,QAAAA,cAAc,EAAE,KAAKrD,MAAL,CAAY,uBAAZ,CAJkC;AAKlDgD,QAAAA,kBAAkB,EAAEA;AAL8B,OAA3B,CAA3B;;AAOA,WAAKM,YAAL,CAAkB,qBAAlB,EAAyCC,MAAzC,CAAgD;AAC5CC,QAAAA,SAAS,EAAEb,UADiC;AAE5Cc,QAAAA,KAAK,EAAE;AACHC,UAAAA,MAAM,EAAE,eADL;AAEH7E,UAAAA,OAAO,EAAEqE;AAFN;AAFqC,OAAhD;;AAOA,UAAIS,QAAQ,GAAGhB,UAAU,CAAClC,QAAX,CAAoB,KAApB,CAAf;AACAkC,MAAAA,UAAU,CAACiB,WAAX,CAAuBD,QAAvB;AACA,aAAOA,QAAP;AACH,KArBD,MAqBO;AACH,UAAIE,OAAO,GAAGhK,CAAC,CAACgJ,QAAQ,CAACU,MAAT,CAAgB;AAC5BC,QAAAA,SAAS,EAAE5J,gBAAgB,CAAC+I,UAAD;AADC,OAAhB,CAAD,CAAf;;AAGA,UAAIkB,OAAO,CAACC,QAAR,CAAiBzH,sBAAjB,CAAJ,EAA8C;AAC1CsG,QAAAA,UAAU,CAACiB,WAAX,CAAuBC,OAAvB;AACAlB,QAAAA,UAAU,GAAGkB,OAAb;AACH;;AACD,aAAOlB,UAAP;AACH;AACJ,GA/NuB;AAgOxBL,EAAAA,yBAAyB,EAAE,UAASyB,aAAT,EAAwB;AAC/C,SAAKC,qBAAL,GAA6B;AACzBC,MAAAA,YAAY,EAAErK,gBAAgB,CAACmK,aAAD;AADL,KAA7B;AAGH,GApOuB;AAqOxBC,EAAAA,qBAAqB,EAAE,YAAW;AAC9B,WAAO,KAAKE,kBAAL,IAA2B,KAAKC,wBAAL,EAAlC;AACH,GAvOuB;AAwOxBA,EAAAA,wBAAwB,EAAE,YAAW;AACjC,WAAO,KAAKD,kBAAL,GAA0B,KAAKE,qBAAL,CAA2B,iBAA3B,EAA8C;AAC3EC,MAAAA,OAAO,EAAE,KAAKA,OAAL,EADkE;AAE3EC,MAAAA,iBAAiB,EAAE,CAAC,UAAD,EAAa,UAAb;AAFwD,KAA9C,CAAjC;AAIH,GA7OuB;AA8OxBC,EAAAA,eAAe,EAAE,YAAW;AACxB,WAAO;AACH/G,MAAAA,OAAO,EAAE,KADN;AAEHC,MAAAA,QAAQ,EAAE,OAFP;AAGHoF,MAAAA,QAAQ,EAAE,KAAK2B,uBAAL;AAHP,KAAP;AAKH,GApPuB;AAqPxBA,EAAAA,uBAAuB,EAAE,YAAW;AAChC,WAAO,CAACC,CAAD,EAAIC,EAAJ,EAAQlB,SAAR,KAAsB;AACzB,UAAImB,OAAO,GAAG9K,CAAC,CAAC,OAAD,CAAD,CAAWuG,QAAX,CAAoBlE,6BAApB,CAAd;;AACA,WAAK0I,gBAAL,CAAsBD,OAAtB,EAA+BxJ,MAA/B,EAAuC;AACnC0J,QAAAA,IAAI,EAAE,OAD6B;AAEnCC,QAAAA,OAAO,EAAE,KAAKC,wBAAL,CAA8B,KAAK,CAAnC,CAF0B;AAGnCC,QAAAA,WAAW,EAAE,MAHsB;AAInChC,QAAAA,kBAAkB,EAAE;AAJe,OAAvC;;AAMAnJ,MAAAA,CAAC,CAAC2J,SAAD,CAAD,CAAayB,MAAb,CAAoBN,OAApB;AACH,KATD;AAUH,GAhQuB;AAiQxBlD,EAAAA,gBAAgB,EAAE,UAASjE,OAAT,EAAkB;AAChC,QAAIY,YAAY,GAAG,KAAK4B,MAAL,CAAY,cAAZ,CAAnB;AACA,QAAIkF,aAAa,GAAG,EAApB;AACA,SAAKC,mBAAL,GAA2B,EAA3B;AACA,QAAIC,eAAe,GAAGzL,OAAO,CAAC2B,OAAR,GAAkBiC,QAAxC;AACA,QAAI8H,KAAK,GAAG,CAAZ;AACAjL,IAAAA,IAAI,CAACgE,YAAD,EAAe,CAACqG,CAAD,EAAI/B,IAAJ,KAAa;AAC5B,UAAI4C,UAAU,GAAG1K,SAAS,CAAC8H,IAAI,CAAC6C,QAAN,CAA1B;AACA,UAAIC,IAAI,GAAGF,UAAU,GAAGlI,cAAc,CAACsF,IAAI,CAAC6C,QAAN,CAAjB,GAAmC7C,IAAxD;;AACA,UAAI4C,UAAU,IAAI,UAAUF,eAAxB,IAA2CC,KAAK,GAAG,CAAvD,EAA0D;AACtDG,QAAAA,IAAI,CAAChI,OAAL,GAAe,KAAf;AACA6H,QAAAA,KAAK;AACR;;AACDG,MAAAA,IAAI,CAAChI,OAAL,GAAekF,IAAI,CAAClF,OAAL,IAAgBgI,IAAI,CAAChI,OAArB,IAAgC,KAA/C;;AACA,UAAIgI,IAAI,IAAIA,IAAI,CAAChI,OAAL,KAAiBA,OAA7B,EAAsC;AAClC,YAAI8H,UAAJ,EAAgB;AACZpL,UAAAA,MAAM,CAACsL,IAAD,EAAO;AACT/H,YAAAA,QAAQ,EAAEiF,IAAI,CAACjF;AADN,WAAP,EAEH,KAAKgI,sBAAL,CAA4B/C,IAA5B,CAFG,CAAN;AAGH;;AACD,YAAIgD,UAAU,GAAG,cAAcN,eAA/B;;AACA,YAAI,WAAW1C,IAAI,CAAC6C,QAAhB,IAA4BG,UAA5B,IAA0C,aAAahD,IAAI,CAAC6C,QAAlB,IAA8B,CAACG,UAA7E,EAAyF;AACrFR,UAAAA,aAAa,CAACvD,OAAd,CAAsB6D,IAAtB;AACH,SAFD,MAEO;AACHN,UAAAA,aAAa,CAACS,IAAd,CAAmBH,IAAnB;AACH;AACJ;AACJ,KArBG,CAAJ;;AAsBA,QAAI,UAAUhI,OAAV,IAAqB,KAAK+E,eAAL,EAAzB,EAAiD;AAC7C2C,MAAAA,aAAa,CAACS,IAAd,CAAmB,KAAKpB,eAAL,EAAnB;AACH;;AACD,WAAOW,aAAP;AACH,GAjSuB;;AAkSxB3C,EAAAA,eAAe,GAAG;AACd,WAAO,KAAKvC,MAAL,CAAY,iBAAZ,KAAkC,KAAKA,MAAL,CAAY,WAAZ,CAAzC;AACH,GApSuB;;AAqSxB4F,EAAAA,mBAAmB,EAAEC,QAAQ,IAAI,WAAWA,QAAQ,CAACC,WAAT,EAAX,GAAoC,IAApC,GAA2C3L,QAAQ,CAAC0L,QAAD,EAAW,IAAX,CArS5D;AAsSxBJ,EAAAA,sBAAsB,EAAE,UAAS/C,IAAT,EAAe;AACnC,QAAIqD,IAAI,GAAG,IAAX;AACA,QAAIF,QAAQ,GAAGnD,IAAI,CAAC6C,QAApB;;AACA,QAAIxL,OAAO,CAAC8L,QAAD,EAAWrJ,4BAAX,CAAP,GAAkD,CAAtD,EAAyD;AACrD,aAAO,KAAP;AACH;;AACD,QAAIwJ,UAAU,GAAG9L,MAAM,CAAC;AACpB2H,MAAAA,IAAI,EAAE3G,mBAAmB,CAAC+K,MAApB,CAA2B,KAAKL,mBAAL,CAAyBC,QAAzB,CAA3B,CADc;AAEpBf,MAAAA,OAAO,EAAE,KAAKC,wBAAL,CAA8BrC,IAAI,CAACoC,OAAnC,CAFW;AAGpB9B,MAAAA,kBAAkB,EAAE,EAHA;AAIpBzD,MAAAA,IAAI,EAAEwG,IAAI,CAAC/F,MAAL,CAAY,0BAAZ,IAA0CvD,mBAA1C,GAAgEC,kBAJlD;AAKpBsI,MAAAA,WAAW,EAAEe,IAAI,CAAC/F,MAAL,CAAY,uBAAZ,IAAuCrD,gBAAvC,GAA0DC;AALnD,KAAD,EAMpB8F,IAAI,CAAC7D,OAAL,IAAgB,EANI,CAAvB;AAOA,QAAIqH,SAAS,GAAGxK,WAAW,GAAG,GAAd,GAAoBmK,QAApC;;AACA,SAAKV,mBAAL,CAAyBQ,IAAzB,CAA8BO,SAA9B;;AACA,WAAO;AACHrD,MAAAA,QAAQ,EAAE,UAAS4B,CAAT,EAAYC,EAAZ,EAAgBlB,SAAhB,EAA2B;AACjC,YAAI2C,YAAY,GAAGtM,CAAC,CAAC,OAAD,CAAD,CAAWuG,QAAX,CAAoB8F,SAApB,EAA+BE,QAA/B,CAAwC5C,SAAxC,CAAnB;;AACAuC,QAAAA,IAAI,CAACnB,gBAAL,CAAsBuB,YAAtB,EAAoChL,MAApC,EAA4C6K,UAA5C;AACH;AAJE,KAAP;AAMH,GA3TuB;AA4TxBjB,EAAAA,wBAAwB,EAAE,UAASsB,WAAT,EAAsB;AAC5C,WAAO,KAAKC,aAAL,CAAmBD,WAAnB,EAAgC;AACnCE,MAAAA,YAAY,EAAE,UAASC,CAAT,EAAY;AACtBA,QAAAA,CAAC,CAACC,SAAF,CAAY3G,IAAZ;AACH;AAHkC,KAAhC,CAAP;AAKH,GAlUuB;AAmUxByB,EAAAA,aAAa,EAAE,YAAW;AACtB,QAAIC,KAAK,GAAG,KAAKC,gBAAL,CAAsB,QAAtB,CAAZ;;AACA,QAAID,KAAK,CAACM,MAAV,EAAkB;AACd,WAAK4E,QAAL,IAAiB,KAAKA,QAAL,CAAc1E,MAAd,EAAjB;AACA,UAAI2E,OAAO,GAAG9M,CAAC,CAAC,OAAD,CAAD,CAAWuG,QAAX,CAAoBjE,kBAApB,EAAwCyK,WAAxC,CAAoD,KAAKzE,QAAL,EAApD,CAAd;AACA,WAAKuE,QAAL,GAAgB,KAAKtE,qBAAL,CAA2B,gBAA3B,EAA6CZ,KAA7C,EAAoDmF,OAApD,EAA6D;AACzEE,QAAAA,WAAW,EAAE;AAD4D,OAA7D,EAEbzG,QAFa,CAEJjE,kBAFI,CAAhB;;AAGA,WAAK2K,cAAL;AACH,KAPD,MAOO;AACH,WAAKJ,QAAL,IAAiB,KAAKA,QAAL,CAAclE,MAAd,EAAjB;AACH;AACJ,GA/UuB;AAgVxBsE,EAAAA,cAAc,EAAE,YAAW;AACvB,QAAIC,OAAO,GAAGvK,4BAAd;AACApC,IAAAA,IAAI,CAAC2M,OAAD,EAAU,CAACtC,CAAD,EAAIuC,KAAJ,KAAc;AACxB,UAAIC,SAAS,GAAGvL,WAAW,GAAG,GAAd,GAAoBsL,KAApC;;AACA,UAAIjN,OAAO,CAACkN,SAAD,EAAY,KAAK9B,mBAAjB,CAAP,IAAgD,CAApD,EAAuD;AACnD,aAAK9E,QAAL,GAAgBD,QAAhB,CAAyB6G,SAAS,GAAG,UAArC;;AACA,aAAKP,QAAL,CAActG,QAAd,CAAuB6G,SAAvB;AACH,OAHD,MAGO;AACH,aAAK5G,QAAL,GAAgB6G,WAAhB,CAA4BD,SAAS,GAAG,UAAxC;;AACA,aAAKP,QAAL,CAAcQ,WAAd,CAA0BD,SAA1B;AACH;AACJ,KATG,CAAJ;AAUH,GA5VuB;;AA6VxBE,EAAAA,4BAA4B,GAAG;AAC3B,QAAI;AACArJ,MAAAA,UAAU,EAAEA,UADZ;AAEAsJ,MAAAA,kBAAkB,EAAEA;AAFpB,QAGA,KAAKpH,MAAL,EAHJ;AAIA,WAAO9F,MAAM,CAAC,EAAD,EAAK,KAAK2D,QAAL,EAAL,EAAsB;AAC/BC,MAAAA,UAAU,EAAEA,UADmB;AAE/BsJ,MAAAA,kBAAkB,EAAEA;AAFW,KAAtB,CAAb;AAIH,GAtWuB;;AAuWxBC,EAAAA,uBAAuB,GAAG;AACtB,SAAKC,mBAAL,GAA2B,IAAI9L,uBAAJ,CAA4B,KAAK2L,4BAAL,EAA5B,CAA3B;AACH,GAzWuB;;AA0WxBI,EAAAA,cAAc,EAAE,YAAW;AACvB,WAAO,KAAKC,UAAL,EAAP;AACH,GA5WuB;AA6WxBC,EAAAA,mBAAmB,EAAE,YAAW;AAC5B,SAAKC,mBAAL;;AACA,SAAK7J,QAAL;;AACA,SAAK8J,iBAAL;AACH,GAjXuB;AAkXxBD,EAAAA,mBAAmB,EAAE,YAAW;AAC5B,QAAIE,MAAM,GAAG,KAAKC,eAAL,CAAqB,QAArB,CAAb;;AACA,QAAI,WAAWD,MAAf,EAAuB;AACnB,WAAKzF,QAAL,GAAgB2F,GAAhB,CAAoB;AAChBF,QAAAA,MAAM,EAAE,MADQ;AAEhBG,QAAAA,SAAS,EAAE;AAFK,OAApB;AAIH;AACJ,GA1XuB;AA2XxB1F,EAAAA,WAAW,EAAE,YAAW;AACpB,SAAKxE,QAAL;AACA,SAAKkD,eAAL,GAAuBC,WAAvB,CAAmChF,qBAAnC,EAA0D,KAAKgE,MAAL,CAAY,aAAZ,CAA1D;AACH,GA9XuB;AA+XxBgI,EAAAA,aAAa,EAAE,YAAW;AACtB,SAAKnK,QAAL;;AACA,SAAKoK,UAAL,CAAgBjI,MAAhB,CAAuB,UAAvB,EAAmC,YAAW;AAC1C,WAAK2H,iBAAL;;AACA,WAAKO,QAAL,CAAcC,QAAd,CAAuBC,SAAvB;AACH,KAHkC,CAGjCC,IAHiC,CAG5B,IAH4B,CAAnC;AAIH,GArYuB;AAsYxBV,EAAAA,iBAAiB,EAAE,YAAW;AAC1B,KAAC,KAAK3H,MAAL,CAAY,oBAAZ,KAAqC/F,IAAtC;AACA,QAAIqO,cAAc,GAAG,KAAKvH,eAAL,GAAuBwH,GAAvB,CAA2B,CAA3B,CAArB;;AACA,QAAIC,0BAA0B,GAAG,KAAKC,qBAAL,CAA2BH,cAA3B,CAAjC;;AACA,SAAKnG,QAAL,GAAgB2F,GAAhB,CAAoB,KAAKY,mBAAL,CAAyBF,0BAAzB,EAAqDF,cAArD,CAApB;;AACA,SAAKK,iBAAL,CAAuB,KAAK5H,eAAL,EAAvB,EAA+CyH,0BAA/C;AACH,GA5YuB;AA6YxBI,EAAAA,2BAA2B,EAAE,UAASJ,0BAAT,EAAqCK,qBAArC,EAA4D;AACrF,WAAOL,0BAA0B,KAAKxL,iBAAiB,CAACG,IAAjD,GAAwD,CAAC0L,qBAAzD,GAAiF,CAAxF;AACH,GA/YuB;AAgZxBJ,EAAAA,qBAAqB,EAAE,UAASH,cAAT,EAAyB;AAC5C,QAAIQ,WAAW,GAAG,WAAWR,cAAc,CAACS,KAAf,CAAqBC,KAAhC,IAAyC,OAAOV,cAAc,CAACS,KAAf,CAAqBC,KAAvF;AACA,QAAIR,0BAA0B,GAAGxL,iBAAiB,CAACC,MAAnD;;AACA,QAAI,KAAKgM,aAAL,MAAwB,KAAKjJ,MAAL,CAAY,mBAAZ,CAA5B,EAA8D;AAC1D,UAAI8I,WAAW,IAAIjM,aAAnB,EAAkC;AAC9B2L,QAAAA,0BAA0B,GAAGxL,iBAAiB,CAACE,OAA/C;AACH,OAFD,MAEO;AACHsL,QAAAA,0BAA0B,GAAGxL,iBAAiB,CAACG,IAA/C;AACH;AACJ;;AACD,WAAOqL,0BAAP;AACH,GA3ZuB;AA4ZxBE,EAAAA,mBAAmB,EAAE,UAASF,0BAAT,EAAqCF,cAArC,EAAqD;AACtE,QAAIY,SAAS,GAAG,EAAhB;;AACA,QAAIC,gBAAgB,GAAG,KAAKtB,eAAL,CAAqB,WAArB,EAAkCS,cAAlC,CAAvB;;AACA,QAAIc,gBAAgB,GAAG,KAAKvB,eAAL,CAAqB,WAArB,EAAkCS,cAAlC,CAAvB;;AACA,QAAIe,gBAAgB,GAAG,KAAKC,iBAAL,EAAvB;;AACA,QAAIC,gCAAgC,GAAGF,gBAAgB,CAACG,MAAjB,GAA0BH,gBAAgB,CAACI,MAA3C,GAAoDJ,gBAAgB,CAACK,sBAArE,GAA8FL,gBAAgB,CAACM,oBAA/G,GAAsI,KAAKf,2BAAL,CAAiCJ,0BAAjC,EAA6Da,gBAAgB,CAACR,qBAA9E,CAA7K;;AACA,QAAIL,0BAA0B,KAAKxL,iBAAiB,CAACC,MAArD,EAA6D;AACzD,UAAI,CAAC,KAAKgM,aAAL,EAAD,IAAyBE,gBAAzB,IAA6CC,gBAAjD,EAAmE;AAC/D,YAAIQ,aAAa,GAAG,KAAK5J,MAAL,CAAY,YAAZ,IAA4B6J,IAAI,CAACC,GAAL,CAASnP,eAAe,CAAC2N,cAAD,CAAf,CAAgCV,MAAzC,EAAiD7M,SAAS,GAAGgP,WAA7D,CAA5B,GAAwGpP,eAAe,CAAC2N,cAAD,CAAf,CAAgCV,MAA5J;AACA,YAAIoC,aAAa,GAAGJ,aAAa,GAAGL,gCAApC;AACAL,QAAAA,SAAS,GAAG;AACRtB,UAAAA,MAAM,EAAEiC,IAAI,CAACI,GAAL,CAAS,CAAT,EAAYD,aAAZ,CADA;AAERE,UAAAA,SAAS,EAAE,MAFH;AAGRnC,UAAAA,SAAS,EAAE;AAHH,SAAZ;AAKH;AACJ,KAVD,MAUO;AACH,UAAIvE,SAAS,GAAG3J,CAAC,CAAC,KAAKyN,mBAAL,CAAyB6C,uBAA1B,CAAD,CAAoD5B,GAApD,CAAwD,CAAxD,CAAhB;AACA,UAAI6B,cAAc,GAAG9P,oBAAoB,CAAC6O,gBAAD,EAAmB,CAACI,gCAApB,EAAsD/F,SAAtD,CAAzC;AACA,UAAI6G,cAAc,GAAG9P,oBAAoB,CAAC6O,gBAAD,EAAmB,CAACG,gCAApB,EAAsD/F,SAAtD,CAAzC;AACA0F,MAAAA,SAAS,GAAG;AACRtB,QAAAA,MAAM,EAAE,MADA;AAERsC,QAAAA,SAAS,EAAEG,cAFH;AAGRtC,QAAAA,SAAS,EAAEqC;AAHH,OAAZ;AAKH;;AACD,WAAOlB,SAAP;AACH,GAvbuB;AAwbxBP,EAAAA,iBAAiB,EAAE,UAAShG,UAAT,EAAqB2H,YAArB,EAAmC;AAClD,QAAIC,aAAa,GAAG,EAApB;;AACA,SAAK,IAAIlN,IAAT,IAAiBL,iBAAjB,EAAoC;AAChC,UAAIA,iBAAiB,CAACK,IAAD,CAAjB,KAA4BiN,YAAhC,EAA8C;AAC1CC,QAAAA,aAAa,IAAI,MAAMvN,iBAAiB,CAACK,IAAD,CAAxC;AACH;AACJ;;AACDsF,IAAAA,UAAU,CAACuE,WAAX,CAAuBqD,aAAvB,EAAsCnK,QAAtC,CAA+CkK,YAA/C;AACH,GAhcuB;AAicxBrB,EAAAA,aAAa,EAAE,YAAW;AACtB,WAAO,WAAW,KAAKlI,eAAL,GAAuBwH,GAAvB,CAA2B,CAA3B,EAA8BQ,KAA9B,CAAoCnB,MAAtD;AACH,GAncuB;AAocxB0B,EAAAA,iBAAiB,EAAE,YAAW;AAC1B,QAAI9B,UAAU,GAAG,KAAKA,UAAL,EAAjB;AACA,QAAIgD,aAAa,GAAG,KAAKA,aAAL,EAApB;AACA,WAAO;AACHhB,MAAAA,MAAM,EAAEnP,gBAAgB,CAACmN,UAAU,IAAIA,UAAU,CAACe,GAAX,CAAe,CAAf,CAAf,CADrB;AAEHkB,MAAAA,MAAM,EAAEpP,gBAAgB,CAACmQ,aAAa,IAAIA,aAAa,CAACjC,GAAd,CAAkB,CAAlB,CAAlB,CAFrB;AAGHmB,MAAAA,sBAAsB,EAAElP,kBAAkB,CAAC,KAAKuG,eAAL,GAAuBwH,GAAvB,CAA2B,CAA3B,CAAD,EAAgC,IAAhC,CAHvC;AAIHoB,MAAAA,oBAAoB,EAAEnP,kBAAkB,CAAC,KAAK2H,QAAL,GAAgBoG,GAAhB,CAAoB,CAApB,CAAD,EAAyB,IAAzB,CAJrC;AAKHM,MAAAA,qBAAqB,EAAErO,kBAAkB,CAAC,KAAK2H,QAAL,GAAgBoG,GAAhB,CAAoB,CAApB,CAAD,EAAyB,KAAzB;AALtC,KAAP;AAOH,GA9cuB;AA+cxBkC,EAAAA,mBAAmB,EAAE,YAAW;AAC5B,WAAO,KAAK5M,QAAL,MAAmB,KAAKmC,MAAL,CAAY,YAAZ,CAA1B;AACH,GAjduB;AAkdxB0K,EAAAA,iBAAiB,EAAE,YAAW;AAC1B,QAAI,KAAK1K,MAAL,CAAY,YAAZ,CAAJ,EAA+B;AAC3B,WAAKe,eAAL,GAAuB+G,GAAvB,CAA2B;AACvBkB,QAAAA,KAAK,EAAE,MADgB;AAEvBpB,QAAAA,MAAM,EAAE,MAFe;AAGvB+C,QAAAA,QAAQ,EAAE,EAHa;AAIvBC,QAAAA,QAAQ,EAAE,EAJa;AAKvBV,QAAAA,SAAS,EAAE,EALY;AAMvBnC,QAAAA,SAAS,EAAE;AANY,OAA3B;AAQH,KATD,MASO;AACH,WAAKlK,QAAL;AACH;;AACD,QAAI7C,SAAS,EAAb,EAAiB;AACb,WAAK6P,2BAAL;AACH;AACJ,GAleuB;AAmexBA,EAAAA,2BAA2B,EAAE,YAAW;AACpC,SAAK9J,eAAL,GAAuBC,WAAvB,CAAmCnF,6BAAnC,EAAkEpB,aAAa,CAAC,KAAKsG,eAAL,EAAD,CAAb,KAA0CrG,QAAQ,CAACe,MAAD,CAApH;AACH,GAreuB;AAsexBqP,EAAAA,eAAe,EAAE,YAAW;AACxB,SAAKC,eAAL;AACH,GAxeuB;AAyexBC,EAAAA,cAAc,EAAE,UAASC,IAAT,EAAe;AAC3B,YAAQA,IAAI,CAAC5N,IAAb;AACI,WAAK,WAAL;AACA,WAAK,OAAL;AACA,WAAK,eAAL;AACI,aAAKiE,YAAL;;AACA,aAAK4J,eAAL;;AACAjQ,QAAAA,kBAAkB,CAAC,KAAK8F,eAAL,EAAD,CAAlB;AACA;;AACJ,WAAK,gBAAL;AACI,aAAKQ,aAAL;;AACA,aAAK2J,eAAL;;AACAjQ,QAAAA,kBAAkB,CAAC,KAAK8F,eAAL,EAAD,CAAlB;AACA;;AACJ,WAAK,iBAAL;AACI,aAAKoD,wBAAL,CAA8B8G,IAAI,CAACnK,KAAnC;;AACA;;AACJ,WAAK,cAAL;AACA,WAAK,0BAAL;AACA,WAAK,uBAAL;AACI,YAAIqK,oBAAoB,GAAG,CAACF,IAAI,CAACG,QAAL,CAAcC,KAAd,CAAoB,oDAApB,CAA5B;;AACA,aAAK/J,YAAL;;AACA,aAAKC,aAAL;;AACA,YAAI4J,oBAAJ,EAA0B;AACtB,eAAKD,eAAL;;AACAjQ,UAAAA,kBAAkB,CAAC,KAAK8F,eAAL,EAAD,CAAlB;AACH;;AACD;;AACJ,WAAK,aAAL;AACI,aAAKsB,WAAL;;AACA;;AACJ,WAAK,mBAAL;AACI,aAAK6I,eAAL;;AACAjQ,QAAAA,kBAAkB,CAAC,KAAK8F,eAAL,EAAD,CAAlB;AACA;;AACJ,WAAK,YAAL;AACI,aAAKuG,mBAAL,CAAyBxJ,UAAzB,GAAsCmN,IAAI,CAACnK,KAA3C;;AACA,aAAKD,sBAAL,CAA4BoK,IAAI,CAACnK,KAAjC;;AACA,aAAKwK,sBAAL;;AACA,aAAKJ,eAAL;;AACAjQ,QAAAA,kBAAkB,CAAC,KAAK8F,eAAL,EAAD,CAAlB;AACA;;AACJ,WAAK,iBAAL;AACI,aAAKO,YAAL;;AACA;;AACJ;AACI,aAAKzD,QAAL,CAAcoN,IAAd;AA7CR;AA+CH,GAzhBuB;AA0hBxBT,EAAAA,aAAa,EAAE,YAAW;AACtB,WAAO,KAAK9D,QAAZ;AACH,GA5hBuB;AA6hBxBc,EAAAA,UAAU,EAAE,YAAW;AACnB,WAAO,KAAKzF,OAAZ;AACH,GA/hBuB;AAgiBxBI,EAAAA,QAAQ,EAAE,YAAW;AACjB,WAAO,KAAK7B,cAAZ;AACH,GAliBuB;AAmiBxBiL,EAAAA,OAAO,EAAE,YAAW;AAChB,WAAO3R,gBAAgB,CAAC,KAAKuI,QAAL,EAAD,CAAvB;AACH,GAriBuB;AAsiBxBpB,EAAAA,eAAe,EAAE,YAAW;AACxB,WAAO,KAAKR,SAAZ;AACH;AAxiBuB,CAAhB,CAAZ;AA0iBA7G,iBAAiB,CAAC,SAAD,EAAYiE,KAAZ,CAAjB;AACA,eAAeA,KAAf","sourcesContent":["/**\r\n * DevExtreme (esm/ui/popup/ui.popup.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    EmptyTemplate\r\n} from \"../../core/templates/empty_template\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    camelize\r\n} from \"../../core/utils/inflector\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    getVisibleHeight,\r\n    addOffsetToMaxHeight,\r\n    addOffsetToMinHeight,\r\n    getVerticalOffsets,\r\n    getOuterWidth,\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    compare as compareVersions\r\n} from \"../../core/utils/version\";\r\nimport {\r\n    getWindow,\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    triggerResizeEvent\r\n} from \"../../events/visibility_change\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport Button from \"../button\";\r\nimport Overlay from \"../overlay/ui.overlay\";\r\nimport {\r\n    isMaterial,\r\n    current as currentTheme\r\n} from \"../themes\";\r\nimport \"../toolbar/ui.toolbar.base\";\r\nimport {\r\n    PopupPositionController\r\n} from \"./popup_position_controller\";\r\nvar window = getWindow();\r\nvar POPUP_CLASS = \"dx-popup\";\r\nvar POPUP_WRAPPER_CLASS = \"dx-popup-wrapper\";\r\nvar POPUP_FULL_SCREEN_CLASS = \"dx-popup-fullscreen\";\r\nvar POPUP_FULL_SCREEN_WIDTH_CLASS = \"dx-popup-fullscreen-width\";\r\nvar POPUP_NORMAL_CLASS = \"dx-popup-normal\";\r\nvar POPUP_CONTENT_CLASS = \"dx-popup-content\";\r\nvar POPUP_DRAGGABLE_CLASS = \"dx-popup-draggable\";\r\nvar POPUP_TITLE_CLASS = \"dx-popup-title\";\r\nvar POPUP_TITLE_CLOSEBUTTON_CLASS = \"dx-closebutton\";\r\nvar POPUP_BOTTOM_CLASS = \"dx-popup-bottom\";\r\nvar POPUP_HAS_CLOSE_BUTTON_CLASS = \"dx-has-close-button\";\r\nvar TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\r\nvar POPUP_CONTENT_FLEX_HEIGHT_CLASS = \"dx-popup-flex-height\";\r\nvar POPUP_CONTENT_INHERIT_HEIGHT_CLASS = \"dx-popup-inherit-height\";\r\nvar ALLOWED_TOOLBAR_ITEM_ALIASES = [\"cancel\", \"clear\", \"done\"];\r\nvar BUTTON_DEFAULT_TYPE = \"default\";\r\nvar BUTTON_NORMAL_TYPE = \"normal\";\r\nvar BUTTON_TEXT_MODE = \"text\";\r\nvar BUTTON_CONTAINED_MODE = \"contained\";\r\nvar IS_OLD_SAFARI = browser.safari && compareVersions(browser.version, [11]) < 0;\r\nvar HEIGHT_STRATEGIES = {\r\n    static: \"\",\r\n    inherit: POPUP_CONTENT_INHERIT_HEIGHT_CLASS,\r\n    flex: POPUP_CONTENT_FLEX_HEIGHT_CLASS\r\n};\r\nvar getButtonPlace = name => {\r\n    var device = devices.current();\r\n    var platform = device.platform;\r\n    var toolbar = \"bottom\";\r\n    var location = \"before\";\r\n    if (\"ios\" === platform) {\r\n        switch (name) {\r\n            case \"cancel\":\r\n                toolbar = \"top\";\r\n                break;\r\n            case \"clear\":\r\n                toolbar = \"top\";\r\n                location = \"after\";\r\n                break;\r\n            case \"done\":\r\n                location = \"after\"\r\n        }\r\n    } else if (\"android\" === platform && device.version && parseInt(device.version[0]) > 4) {\r\n        switch (name) {\r\n            case \"cancel\":\r\n            case \"done\":\r\n                location = \"after\"\r\n        }\r\n    }\r\n    return {\r\n        toolbar: toolbar,\r\n        location: location\r\n    }\r\n};\r\nvar Popup = Overlay.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            fullScreen: false,\r\n            title: \"\",\r\n            showTitle: true,\r\n            titleTemplate: \"title\",\r\n            onTitleRendered: null,\r\n            dragEnabled: false,\r\n            toolbarItems: [],\r\n            showCloseButton: false,\r\n            bottomTemplate: \"bottom\",\r\n            useDefaultToolbarButtons: false,\r\n            useFlatToolbarButtons: false,\r\n            autoResizeEnabled: true\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        var themeName = currentTheme();\r\n        return this.callBase().concat([{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                animation: this._iosAnimation\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"android\"\r\n            },\r\n            options: {\r\n                animation: this._androidAnimation\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"generic\"\r\n            },\r\n            options: {\r\n                showCloseButton: true\r\n            }\r\n        }, {\r\n            device: function(_device) {\r\n                return \"desktop\" === devices.real().deviceType && \"generic\" === _device.platform\r\n            },\r\n            options: {\r\n                dragEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return isMaterial(themeName)\r\n            },\r\n            options: {\r\n                useDefaultToolbarButtons: true,\r\n                useFlatToolbarButtons: true,\r\n                showCloseButton: false\r\n            }\r\n        }])\r\n    },\r\n    _iosAnimation: {\r\n        show: {\r\n            type: \"slide\",\r\n            duration: 400,\r\n            from: {\r\n                position: {\r\n                    my: \"top\",\r\n                    at: \"bottom\"\r\n                }\r\n            },\r\n            to: {\r\n                position: {\r\n                    my: \"center\",\r\n                    at: \"center\"\r\n                }\r\n            }\r\n        },\r\n        hide: {\r\n            type: \"slide\",\r\n            duration: 400,\r\n            from: {\r\n                opacity: 1,\r\n                position: {\r\n                    my: \"center\",\r\n                    at: \"center\"\r\n                }\r\n            },\r\n            to: {\r\n                opacity: 1,\r\n                position: {\r\n                    my: \"top\",\r\n                    at: \"bottom\"\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _androidAnimation: function() {\r\n        return this.option(\"fullScreen\") ? {\r\n            show: {\r\n                type: \"slide\",\r\n                duration: 300,\r\n                from: {\r\n                    top: \"30%\",\r\n                    opacity: 0\r\n                },\r\n                to: {\r\n                    top: 0,\r\n                    opacity: 1\r\n                }\r\n            },\r\n            hide: {\r\n                type: \"slide\",\r\n                duration: 300,\r\n                from: {\r\n                    top: 0,\r\n                    opacity: 1\r\n                },\r\n                to: {\r\n                    top: \"30%\",\r\n                    opacity: 0\r\n                }\r\n            }\r\n        } : {\r\n            show: {\r\n                type: \"fade\",\r\n                duration: 400,\r\n                from: 0,\r\n                to: 1\r\n            },\r\n            hide: {\r\n                type: \"fade\",\r\n                duration: 400,\r\n                from: 1,\r\n                to: 0\r\n            }\r\n        }\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.$element().addClass(POPUP_CLASS);\r\n        this.$wrapper().addClass(POPUP_WRAPPER_CLASS);\r\n        this._$popupContent = this._$content.wrapInner($(\"<div>\").addClass(POPUP_CONTENT_CLASS)).children().eq(0)\r\n    },\r\n    _render: function() {\r\n        var isFullscreen = this.option(\"fullScreen\");\r\n        this._toggleFullScreenClass(isFullscreen);\r\n        this.callBase()\r\n    },\r\n    _toggleFullScreenClass: function(value) {\r\n        this.$overlayContent().toggleClass(POPUP_FULL_SCREEN_CLASS, value).toggleClass(POPUP_NORMAL_CLASS, !value)\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            title: new EmptyTemplate,\r\n            bottom: new EmptyTemplate\r\n        })\r\n    },\r\n    _renderContentImpl: function() {\r\n        this._renderTitle();\r\n        this.callBase();\r\n        this._renderBottom()\r\n    },\r\n    _renderTitle: function() {\r\n        var items = this._getToolbarItems(\"top\");\r\n        var titleText = this.option(\"title\");\r\n        var showTitle = this.option(\"showTitle\");\r\n        if (showTitle && !!titleText) {\r\n            items.unshift({\r\n                location: devices.current().ios ? \"center\" : \"before\",\r\n                text: titleText\r\n            })\r\n        }\r\n        if (showTitle || items.length > 0) {\r\n            this._$title && this._$title.remove();\r\n            var $title = $(\"<div>\").addClass(POPUP_TITLE_CLASS).insertBefore(this.$content());\r\n            this._$title = this._renderTemplateByType(\"titleTemplate\", items, $title).addClass(POPUP_TITLE_CLASS);\r\n            this._renderDrag();\r\n            this._executeTitleRenderAction(this._$title);\r\n            this._$title.toggleClass(POPUP_HAS_CLOSE_BUTTON_CLASS, this._hasCloseButton())\r\n        } else if (this._$title) {\r\n            this._$title.detach()\r\n        }\r\n    },\r\n    _renderTemplateByType: function(optionName, data, $container, additionalToolbarOptions) {\r\n        var template = this._getTemplateByOption(optionName);\r\n        var toolbarTemplate = template instanceof EmptyTemplate;\r\n        if (toolbarTemplate) {\r\n            var integrationOptions = extend({}, this.option(\"integrationOptions\"), {\r\n                skipTemplates: [\"content\", \"title\"]\r\n            });\r\n            var toolbarOptions = extend(additionalToolbarOptions, {\r\n                items: data,\r\n                rtlEnabled: this.option(\"rtlEnabled\"),\r\n                useDefaultButtons: this.option(\"useDefaultToolbarButtons\"),\r\n                useFlatButtons: this.option(\"useFlatToolbarButtons\"),\r\n                integrationOptions: integrationOptions\r\n            });\r\n            this._getTemplate(\"dx-polymorph-widget\").render({\r\n                container: $container,\r\n                model: {\r\n                    widget: \"dxToolbarBase\",\r\n                    options: toolbarOptions\r\n                }\r\n            });\r\n            var $toolbar = $container.children(\"div\");\r\n            $container.replaceWith($toolbar);\r\n            return $toolbar\r\n        } else {\r\n            var $result = $(template.render({\r\n                container: getPublicElement($container)\r\n            }));\r\n            if ($result.hasClass(TEMPLATE_WRAPPER_CLASS)) {\r\n                $container.replaceWith($result);\r\n                $container = $result\r\n            }\r\n            return $container\r\n        }\r\n    },\r\n    _executeTitleRenderAction: function($titleElement) {\r\n        this._getTitleRenderAction()({\r\n            titleElement: getPublicElement($titleElement)\r\n        })\r\n    },\r\n    _getTitleRenderAction: function() {\r\n        return this._titleRenderAction || this._createTitleRenderAction()\r\n    },\r\n    _createTitleRenderAction: function() {\r\n        return this._titleRenderAction = this._createActionByOption(\"onTitleRendered\", {\r\n            element: this.element(),\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _getCloseButton: function() {\r\n        return {\r\n            toolbar: \"top\",\r\n            location: \"after\",\r\n            template: this._getCloseButtonRenderer()\r\n        }\r\n    },\r\n    _getCloseButtonRenderer: function() {\r\n        return (_, __, container) => {\r\n            var $button = $(\"<div>\").addClass(POPUP_TITLE_CLOSEBUTTON_CLASS);\r\n            this._createComponent($button, Button, {\r\n                icon: \"close\",\r\n                onClick: this._createToolbarItemAction(void 0),\r\n                stylingMode: \"text\",\r\n                integrationOptions: {}\r\n            });\r\n            $(container).append($button)\r\n        }\r\n    },\r\n    _getToolbarItems: function(toolbar) {\r\n        var toolbarItems = this.option(\"toolbarItems\");\r\n        var toolbarsItems = [];\r\n        this._toolbarItemClasses = [];\r\n        var currentPlatform = devices.current().platform;\r\n        var index = 0;\r\n        each(toolbarItems, (_, data) => {\r\n            var isShortcut = isDefined(data.shortcut);\r\n            var item = isShortcut ? getButtonPlace(data.shortcut) : data;\r\n            if (isShortcut && \"ios\" === currentPlatform && index < 2) {\r\n                item.toolbar = \"top\";\r\n                index++\r\n            }\r\n            item.toolbar = data.toolbar || item.toolbar || \"top\";\r\n            if (item && item.toolbar === toolbar) {\r\n                if (isShortcut) {\r\n                    extend(item, {\r\n                        location: data.location\r\n                    }, this._getToolbarItemByAlias(data))\r\n                }\r\n                var isLTROrder = \"generic\" === currentPlatform;\r\n                if (\"done\" === data.shortcut && isLTROrder || \"cancel\" === data.shortcut && !isLTROrder) {\r\n                    toolbarsItems.unshift(item)\r\n                } else {\r\n                    toolbarsItems.push(item)\r\n                }\r\n            }\r\n        });\r\n        if (\"top\" === toolbar && this._hasCloseButton()) {\r\n            toolbarsItems.push(this._getCloseButton())\r\n        }\r\n        return toolbarsItems\r\n    },\r\n    _hasCloseButton() {\r\n        return this.option(\"showCloseButton\") && this.option(\"showTitle\")\r\n    },\r\n    _getLocalizationKey: itemType => \"done\" === itemType.toLowerCase() ? \"OK\" : camelize(itemType, true),\r\n    _getToolbarItemByAlias: function(data) {\r\n        var that = this;\r\n        var itemType = data.shortcut;\r\n        if (inArray(itemType, ALLOWED_TOOLBAR_ITEM_ALIASES) < 0) {\r\n            return false\r\n        }\r\n        var itemConfig = extend({\r\n            text: messageLocalization.format(this._getLocalizationKey(itemType)),\r\n            onClick: this._createToolbarItemAction(data.onClick),\r\n            integrationOptions: {},\r\n            type: that.option(\"useDefaultToolbarButtons\") ? BUTTON_DEFAULT_TYPE : BUTTON_NORMAL_TYPE,\r\n            stylingMode: that.option(\"useFlatToolbarButtons\") ? BUTTON_TEXT_MODE : BUTTON_CONTAINED_MODE\r\n        }, data.options || {});\r\n        var itemClass = POPUP_CLASS + \"-\" + itemType;\r\n        this._toolbarItemClasses.push(itemClass);\r\n        return {\r\n            template: function(_, __, container) {\r\n                var $toolbarItem = $(\"<div>\").addClass(itemClass).appendTo(container);\r\n                that._createComponent($toolbarItem, Button, itemConfig)\r\n            }\r\n        }\r\n    },\r\n    _createToolbarItemAction: function(clickAction) {\r\n        return this._createAction(clickAction, {\r\n            afterExecute: function(e) {\r\n                e.component.hide()\r\n            }\r\n        })\r\n    },\r\n    _renderBottom: function() {\r\n        var items = this._getToolbarItems(\"bottom\");\r\n        if (items.length) {\r\n            this._$bottom && this._$bottom.remove();\r\n            var $bottom = $(\"<div>\").addClass(POPUP_BOTTOM_CLASS).insertAfter(this.$content());\r\n            this._$bottom = this._renderTemplateByType(\"bottomTemplate\", items, $bottom, {\r\n                compactMode: true\r\n            }).addClass(POPUP_BOTTOM_CLASS);\r\n            this._toggleClasses()\r\n        } else {\r\n            this._$bottom && this._$bottom.detach()\r\n        }\r\n    },\r\n    _toggleClasses: function() {\r\n        var aliases = ALLOWED_TOOLBAR_ITEM_ALIASES;\r\n        each(aliases, (_, alias) => {\r\n            var className = POPUP_CLASS + \"-\" + alias;\r\n            if (inArray(className, this._toolbarItemClasses) >= 0) {\r\n                this.$wrapper().addClass(className + \"-visible\");\r\n                this._$bottom.addClass(className)\r\n            } else {\r\n                this.$wrapper().removeClass(className + \"-visible\");\r\n                this._$bottom.removeClass(className)\r\n            }\r\n        })\r\n    },\r\n    _getPositionControllerConfig() {\r\n        var {\r\n            fullScreen: fullScreen,\r\n            forceApplyBindings: forceApplyBindings\r\n        } = this.option();\r\n        return extend({}, this.callBase(), {\r\n            fullScreen: fullScreen,\r\n            forceApplyBindings: forceApplyBindings\r\n        })\r\n    },\r\n    _initPositionController() {\r\n        this._positionController = new PopupPositionController(this._getPositionControllerConfig())\r\n    },\r\n    _getDragTarget: function() {\r\n        return this.topToolbar()\r\n    },\r\n    _renderGeometryImpl: function() {\r\n        this._resetContentHeight();\r\n        this.callBase();\r\n        this._setContentHeight()\r\n    },\r\n    _resetContentHeight: function() {\r\n        var height = this._getOptionValue(\"height\");\r\n        if (\"auto\" === height) {\r\n            this.$content().css({\r\n                height: \"auto\",\r\n                maxHeight: \"none\"\r\n            })\r\n        }\r\n    },\r\n    _renderDrag: function() {\r\n        this.callBase();\r\n        this.$overlayContent().toggleClass(POPUP_DRAGGABLE_CLASS, this.option(\"dragEnabled\"))\r\n    },\r\n    _renderResize: function() {\r\n        this.callBase();\r\n        this._resizable.option(\"onResize\", function() {\r\n            this._setContentHeight();\r\n            this._actions.onResize(arguments)\r\n        }.bind(this))\r\n    },\r\n    _setContentHeight: function() {\r\n        (this.option(\"forceApplyBindings\") || noop)();\r\n        var overlayContent = this.$overlayContent().get(0);\r\n        var currentHeightStrategyClass = this._chooseHeightStrategy(overlayContent);\r\n        this.$content().css(this._getHeightCssStyles(currentHeightStrategyClass, overlayContent));\r\n        this._setHeightClasses(this.$overlayContent(), currentHeightStrategyClass)\r\n    },\r\n    _heightStrategyChangeOffset: function(currentHeightStrategyClass, popupVerticalPaddings) {\r\n        return currentHeightStrategyClass === HEIGHT_STRATEGIES.flex ? -popupVerticalPaddings : 0\r\n    },\r\n    _chooseHeightStrategy: function(overlayContent) {\r\n        var isAutoWidth = \"auto\" === overlayContent.style.width || \"\" === overlayContent.style.width;\r\n        var currentHeightStrategyClass = HEIGHT_STRATEGIES.static;\r\n        if (this._isAutoHeight() && this.option(\"autoResizeEnabled\")) {\r\n            if (isAutoWidth || IS_OLD_SAFARI) {\r\n                currentHeightStrategyClass = HEIGHT_STRATEGIES.inherit\r\n            } else {\r\n                currentHeightStrategyClass = HEIGHT_STRATEGIES.flex\r\n            }\r\n        }\r\n        return currentHeightStrategyClass\r\n    },\r\n    _getHeightCssStyles: function(currentHeightStrategyClass, overlayContent) {\r\n        var cssStyles = {};\r\n        var contentMaxHeight = this._getOptionValue(\"maxHeight\", overlayContent);\r\n        var contentMinHeight = this._getOptionValue(\"minHeight\", overlayContent);\r\n        var popupHeightParts = this._splitPopupHeight();\r\n        var toolbarsAndVerticalOffsetsHeight = popupHeightParts.header + popupHeightParts.footer + popupHeightParts.contentVerticalOffsets + popupHeightParts.popupVerticalOffsets + this._heightStrategyChangeOffset(currentHeightStrategyClass, popupHeightParts.popupVerticalPaddings);\r\n        if (currentHeightStrategyClass === HEIGHT_STRATEGIES.static) {\r\n            if (!this._isAutoHeight() || contentMaxHeight || contentMinHeight) {\r\n                var overlayHeight = this.option(\"fullScreen\") ? Math.min(getBoundingRect(overlayContent).height, getWindow().innerHeight) : getBoundingRect(overlayContent).height;\r\n                var contentHeight = overlayHeight - toolbarsAndVerticalOffsetsHeight;\r\n                cssStyles = {\r\n                    height: Math.max(0, contentHeight),\r\n                    minHeight: \"auto\",\r\n                    maxHeight: \"auto\"\r\n                }\r\n            }\r\n        } else {\r\n            var container = $(this._positionController._$wrapperCoveredElement).get(0);\r\n            var maxHeightValue = addOffsetToMaxHeight(contentMaxHeight, -toolbarsAndVerticalOffsetsHeight, container);\r\n            var minHeightValue = addOffsetToMinHeight(contentMinHeight, -toolbarsAndVerticalOffsetsHeight, container);\r\n            cssStyles = {\r\n                height: \"auto\",\r\n                minHeight: minHeightValue,\r\n                maxHeight: maxHeightValue\r\n            }\r\n        }\r\n        return cssStyles\r\n    },\r\n    _setHeightClasses: function($container, currentClass) {\r\n        var excessClasses = \"\";\r\n        for (var name in HEIGHT_STRATEGIES) {\r\n            if (HEIGHT_STRATEGIES[name] !== currentClass) {\r\n                excessClasses += \" \" + HEIGHT_STRATEGIES[name]\r\n            }\r\n        }\r\n        $container.removeClass(excessClasses).addClass(currentClass)\r\n    },\r\n    _isAutoHeight: function() {\r\n        return \"auto\" === this.$overlayContent().get(0).style.height\r\n    },\r\n    _splitPopupHeight: function() {\r\n        var topToolbar = this.topToolbar();\r\n        var bottomToolbar = this.bottomToolbar();\r\n        return {\r\n            header: getVisibleHeight(topToolbar && topToolbar.get(0)),\r\n            footer: getVisibleHeight(bottomToolbar && bottomToolbar.get(0)),\r\n            contentVerticalOffsets: getVerticalOffsets(this.$overlayContent().get(0), true),\r\n            popupVerticalOffsets: getVerticalOffsets(this.$content().get(0), true),\r\n            popupVerticalPaddings: getVerticalOffsets(this.$content().get(0), false)\r\n        }\r\n    },\r\n    _isAllWindowCovered: function() {\r\n        return this.callBase() || this.option(\"fullScreen\")\r\n    },\r\n    _renderDimensions: function() {\r\n        if (this.option(\"fullScreen\")) {\r\n            this.$overlayContent().css({\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                minWidth: \"\",\r\n                maxWidth: \"\",\r\n                minHeight: \"\",\r\n                maxHeight: \"\"\r\n            })\r\n        } else {\r\n            this.callBase()\r\n        }\r\n        if (hasWindow()) {\r\n            this._renderFullscreenWidthClass()\r\n        }\r\n    },\r\n    _renderFullscreenWidthClass: function() {\r\n        this.$overlayContent().toggleClass(POPUP_FULL_SCREEN_WIDTH_CLASS, getOuterWidth(this.$overlayContent()) === getWidth(window))\r\n    },\r\n    refreshPosition: function() {\r\n        this._renderPosition()\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"showTitle\":\r\n            case \"title\":\r\n            case \"titleTemplate\":\r\n                this._renderTitle();\r\n                this._renderGeometry();\r\n                triggerResizeEvent(this.$overlayContent());\r\n                break;\r\n            case \"bottomTemplate\":\r\n                this._renderBottom();\r\n                this._renderGeometry();\r\n                triggerResizeEvent(this.$overlayContent());\r\n                break;\r\n            case \"onTitleRendered\":\r\n                this._createTitleRenderAction(args.value);\r\n                break;\r\n            case \"toolbarItems\":\r\n            case \"useDefaultToolbarButtons\":\r\n            case \"useFlatToolbarButtons\":\r\n                var shouldRenderGeometry = !args.fullName.match(/^toolbarItems((\\[\\d+\\])(\\.(options|visible).*)?)?$/);\r\n                this._renderTitle();\r\n                this._renderBottom();\r\n                if (shouldRenderGeometry) {\r\n                    this._renderGeometry();\r\n                    triggerResizeEvent(this.$overlayContent())\r\n                }\r\n                break;\r\n            case \"dragEnabled\":\r\n                this._renderDrag();\r\n                break;\r\n            case \"autoResizeEnabled\":\r\n                this._renderGeometry();\r\n                triggerResizeEvent(this.$overlayContent());\r\n                break;\r\n            case \"fullScreen\":\r\n                this._positionController.fullScreen = args.value;\r\n                this._toggleFullScreenClass(args.value);\r\n                this._toggleSafariScrolling();\r\n                this._renderGeometry();\r\n                triggerResizeEvent(this.$overlayContent());\r\n                break;\r\n            case \"showCloseButton\":\r\n                this._renderTitle();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    bottomToolbar: function() {\r\n        return this._$bottom\r\n    },\r\n    topToolbar: function() {\r\n        return this._$title\r\n    },\r\n    $content: function() {\r\n        return this._$popupContent\r\n    },\r\n    content: function() {\r\n        return getPublicElement(this.$content())\r\n    },\r\n    $overlayContent: function() {\r\n        return this._$content\r\n    }\r\n});\r\nregisterComponent(\"dxPopup\", Popup);\r\nexport default Popup;\r\n"]},"metadata":{},"sourceType":"module"}