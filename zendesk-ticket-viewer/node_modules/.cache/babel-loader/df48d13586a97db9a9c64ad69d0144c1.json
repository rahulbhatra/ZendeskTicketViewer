{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/core/renderers/animation.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { requestAnimationFrame, cancelAnimationFrame } from \"../../../animation/frame\";\n\nvar noop = function () {};\n\nexport var easingFunctions = {\n  easeOutCubic: function (pos, start, end) {\n    return 1 === pos ? end : (1 - Math.pow(1 - pos, 3)) * (end - start) + +start;\n  },\n  linear: function (pos, start, end) {\n    return 1 === pos ? end : pos * (end - start) + +start;\n  }\n};\nexport var animationSvgStep = {\n  segments: function (elem, params, progress, easing, currentParams) {\n    var from = params.from;\n    var to = params.to;\n    var curSeg;\n    var seg;\n    var i;\n    var j;\n    var segments = [];\n\n    for (i = 0; i < from.length; i++) {\n      curSeg = from[i];\n      seg = [curSeg[0]];\n\n      if (curSeg.length > 1) {\n        for (j = 1; j < curSeg.length; j++) {\n          seg.push(easing(progress, curSeg[j], to[i][j]));\n        }\n      }\n\n      segments.push(seg);\n    }\n\n    currentParams.segments = params.end && 1 === progress ? params.end : segments;\n    elem.attr({\n      segments: segments\n    });\n  },\n  arc: function (elem, params, progress, easing) {\n    var from = params.from;\n    var to = params.to;\n    var current = {};\n\n    for (var i in from) {\n      current[i] = easing(progress, from[i], to[i]);\n    }\n\n    elem.attr(current);\n  },\n  transform: function (elem, params, progress, easing, currentParams) {\n    var from = params.from;\n    var to = params.to;\n    var current = {};\n\n    for (var i in from) {\n      current[i] = currentParams[i] = easing(progress, from[i], to[i]);\n    }\n\n    elem.attr(current);\n  },\n  base: function (elem, params, progress, easing, currentParams, attributeName) {\n    var obj = {};\n    obj[attributeName] = currentParams[attributeName] = easing(progress, params.from, params.to);\n    elem.attr(obj);\n  },\n  _: noop,\n  complete: function (element, currentSettings) {\n    element.attr(currentSettings);\n  }\n};\n\nfunction step(now) {\n  var animateStep = this._animateStep;\n  var attrName;\n  this._progress = this._calcProgress(now);\n\n  for (attrName in this.params) {\n    var anim = animateStep[attrName] || animateStep.base;\n    anim(this.element, this.params[attrName], this._progress, this._easing, this._currentParams, attrName);\n  }\n\n  this.options.step && this.options.step(this._easing(this._progress, 0, 1), this._progress);\n\n  if (1 === this._progress) {\n    return this.stop();\n  }\n\n  return true;\n}\n\nfunction delayTick(now) {\n  if (now - this._startTime >= this.delay) {\n    this.tick = step;\n  }\n\n  return true;\n}\n\nfunction start(now) {\n  this._startTime = now;\n  this.tick = this.delay ? delayTick : step;\n  return true;\n}\n\nfunction Animation(element, params, options) {\n  this._progress = 0;\n  this.element = element;\n  this.params = params;\n  this.options = options;\n  this.duration = options.partitionDuration ? options.duration * options.partitionDuration : options.duration;\n  this.delay = options.delay && options.duration * options.delay || 0;\n  this._animateStep = options.animateStep || animationSvgStep;\n  this._easing = easingFunctions[options.easing] || easingFunctions.easeOutCubic;\n  this._currentParams = {};\n  this.tick = start;\n}\n\nAnimation.prototype = {\n  _calcProgress: function (now) {\n    return Math.min(1, (now - this.delay - this._startTime) / this.duration);\n  },\n  stop: function (disableComplete) {\n    var options = this.options;\n    var animateStep = this._animateStep;\n    this.stop = this.tick = noop;\n    animateStep.complete && animateStep.complete(this.element, this._currentParams);\n    options.complete && !disableComplete && options.complete();\n  }\n};\nexport function AnimationController(element) {\n  this._animationCount = 0;\n  this._timerId = null;\n  this._animations = {};\n  this.element = element;\n}\nAnimationController.prototype = {\n  _loop: function () {\n    var that = this;\n    var animations = that._animations;\n    var activeAnimation = 0;\n    var now = new Date().getTime();\n    var an;\n    var endAnimation = that._endAnimation;\n\n    for (an in animations) {\n      if (!animations[an].tick(now)) {\n        delete animations[an];\n      }\n\n      activeAnimation++;\n    }\n\n    if (0 === activeAnimation) {\n      that.stop();\n      that._endAnimationTimer = endAnimation && setTimeout(function () {\n        if (0 === that._animationCount) {\n          endAnimation();\n          that._endAnimation = null;\n        }\n      });\n      return;\n    }\n\n    that._timerId = requestAnimationFrame.call(null, function () {\n      that._loop();\n    }, that.element);\n  },\n  addAnimation: function (animation) {\n    var that = this;\n    that._animations[that._animationCount++] = animation;\n    clearTimeout(that._endAnimationTimer);\n\n    if (!that._timerId) {\n      clearTimeout(that._startDelay);\n      that._startDelay = setTimeout(function () {\n        that._timerId = 1;\n\n        that._loop();\n      }, 0);\n    }\n  },\n  animateElement: function (elem, params, options) {\n    if (elem && params && options) {\n      elem.animation && elem.animation.stop();\n      this.addAnimation(elem.animation = new Animation(elem, params, options));\n    }\n  },\n  onEndAnimation: function (endAnimation) {\n    this._animationCount ? this._endAnimation = endAnimation : endAnimation();\n  },\n  dispose: function () {\n    this.stop();\n    this.element = null;\n  },\n  stop: function () {\n    this._animations = {};\n    this._animationCount = 0;\n    cancelAnimationFrame(this._timerId);\n    clearTimeout(this._startDelay);\n    clearTimeout(this._endAnimationTimer);\n    this._timerId = null;\n  },\n  lock: function () {\n    var an;\n    var animations = this._animations;\n    var unstoppable;\n    var hasUnstoppableInAnimations;\n\n    for (an in animations) {\n      unstoppable = animations[an].options.unstoppable;\n      hasUnstoppableInAnimations = hasUnstoppableInAnimations || unstoppable;\n\n      if (!unstoppable) {\n        animations[an].stop(true);\n        delete animations[an];\n      }\n    }\n\n    !hasUnstoppableInAnimations && this.stop();\n  }\n};","map":{"version":3,"sources":["/Users/rahulsharma/node_modules/devextreme/esm/viz/core/renderers/animation.js"],"names":["requestAnimationFrame","cancelAnimationFrame","noop","easingFunctions","easeOutCubic","pos","start","end","Math","pow","linear","animationSvgStep","segments","elem","params","progress","easing","currentParams","from","to","curSeg","seg","i","j","length","push","attr","arc","current","transform","base","attributeName","obj","_","complete","element","currentSettings","step","now","animateStep","_animateStep","attrName","_progress","_calcProgress","anim","_easing","_currentParams","options","stop","delayTick","_startTime","delay","tick","Animation","duration","partitionDuration","prototype","min","disableComplete","AnimationController","_animationCount","_timerId","_animations","_loop","that","animations","activeAnimation","Date","getTime","an","endAnimation","_endAnimation","_endAnimationTimer","setTimeout","call","addAnimation","animation","clearTimeout","_startDelay","animateElement","onEndAnimation","dispose","lock","unstoppable","hasUnstoppableInAnimations"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/viz/core/renderers/animation.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    requestAnimationFrame,\r\n    cancelAnimationFrame\r\n} from \"../../../animation/frame\";\r\nvar noop = function() {};\r\nexport var easingFunctions = {\r\n    easeOutCubic: function(pos, start, end) {\r\n        return 1 === pos ? end : (1 - Math.pow(1 - pos, 3)) * (end - start) + +start\r\n    },\r\n    linear: function(pos, start, end) {\r\n        return 1 === pos ? end : pos * (end - start) + +start\r\n    }\r\n};\r\nexport var animationSvgStep = {\r\n    segments: function(elem, params, progress, easing, currentParams) {\r\n        var from = params.from;\r\n        var to = params.to;\r\n        var curSeg;\r\n        var seg;\r\n        var i;\r\n        var j;\r\n        var segments = [];\r\n        for (i = 0; i < from.length; i++) {\r\n            curSeg = from[i];\r\n            seg = [curSeg[0]];\r\n            if (curSeg.length > 1) {\r\n                for (j = 1; j < curSeg.length; j++) {\r\n                    seg.push(easing(progress, curSeg[j], to[i][j]))\r\n                }\r\n            }\r\n            segments.push(seg)\r\n        }\r\n        currentParams.segments = params.end && 1 === progress ? params.end : segments;\r\n        elem.attr({\r\n            segments: segments\r\n        })\r\n    },\r\n    arc: function(elem, params, progress, easing) {\r\n        var from = params.from;\r\n        var to = params.to;\r\n        var current = {};\r\n        for (var i in from) {\r\n            current[i] = easing(progress, from[i], to[i])\r\n        }\r\n        elem.attr(current)\r\n    },\r\n    transform: function(elem, params, progress, easing, currentParams) {\r\n        var from = params.from;\r\n        var to = params.to;\r\n        var current = {};\r\n        for (var i in from) {\r\n            current[i] = currentParams[i] = easing(progress, from[i], to[i])\r\n        }\r\n        elem.attr(current)\r\n    },\r\n    base: function(elem, params, progress, easing, currentParams, attributeName) {\r\n        var obj = {};\r\n        obj[attributeName] = currentParams[attributeName] = easing(progress, params.from, params.to);\r\n        elem.attr(obj)\r\n    },\r\n    _: noop,\r\n    complete: function(element, currentSettings) {\r\n        element.attr(currentSettings)\r\n    }\r\n};\r\n\r\nfunction step(now) {\r\n    var animateStep = this._animateStep;\r\n    var attrName;\r\n    this._progress = this._calcProgress(now);\r\n    for (attrName in this.params) {\r\n        var anim = animateStep[attrName] || animateStep.base;\r\n        anim(this.element, this.params[attrName], this._progress, this._easing, this._currentParams, attrName)\r\n    }\r\n    this.options.step && this.options.step(this._easing(this._progress, 0, 1), this._progress);\r\n    if (1 === this._progress) {\r\n        return this.stop()\r\n    }\r\n    return true\r\n}\r\n\r\nfunction delayTick(now) {\r\n    if (now - this._startTime >= this.delay) {\r\n        this.tick = step\r\n    }\r\n    return true\r\n}\r\n\r\nfunction start(now) {\r\n    this._startTime = now;\r\n    this.tick = this.delay ? delayTick : step;\r\n    return true\r\n}\r\n\r\nfunction Animation(element, params, options) {\r\n    this._progress = 0;\r\n    this.element = element;\r\n    this.params = params;\r\n    this.options = options;\r\n    this.duration = options.partitionDuration ? options.duration * options.partitionDuration : options.duration;\r\n    this.delay = options.delay && options.duration * options.delay || 0;\r\n    this._animateStep = options.animateStep || animationSvgStep;\r\n    this._easing = easingFunctions[options.easing] || easingFunctions.easeOutCubic;\r\n    this._currentParams = {};\r\n    this.tick = start\r\n}\r\nAnimation.prototype = {\r\n    _calcProgress: function(now) {\r\n        return Math.min(1, (now - this.delay - this._startTime) / this.duration)\r\n    },\r\n    stop: function(disableComplete) {\r\n        var options = this.options;\r\n        var animateStep = this._animateStep;\r\n        this.stop = this.tick = noop;\r\n        animateStep.complete && animateStep.complete(this.element, this._currentParams);\r\n        options.complete && !disableComplete && options.complete()\r\n    }\r\n};\r\nexport function AnimationController(element) {\r\n    this._animationCount = 0;\r\n    this._timerId = null;\r\n    this._animations = {};\r\n    this.element = element\r\n}\r\nAnimationController.prototype = {\r\n    _loop: function() {\r\n        var that = this;\r\n        var animations = that._animations;\r\n        var activeAnimation = 0;\r\n        var now = (new Date).getTime();\r\n        var an;\r\n        var endAnimation = that._endAnimation;\r\n        for (an in animations) {\r\n            if (!animations[an].tick(now)) {\r\n                delete animations[an]\r\n            }\r\n            activeAnimation++\r\n        }\r\n        if (0 === activeAnimation) {\r\n            that.stop();\r\n            that._endAnimationTimer = endAnimation && setTimeout((function() {\r\n                if (0 === that._animationCount) {\r\n                    endAnimation();\r\n                    that._endAnimation = null\r\n                }\r\n            }));\r\n            return\r\n        }\r\n        that._timerId = requestAnimationFrame.call(null, (function() {\r\n            that._loop()\r\n        }), that.element)\r\n    },\r\n    addAnimation: function(animation) {\r\n        var that = this;\r\n        that._animations[that._animationCount++] = animation;\r\n        clearTimeout(that._endAnimationTimer);\r\n        if (!that._timerId) {\r\n            clearTimeout(that._startDelay);\r\n            that._startDelay = setTimeout((function() {\r\n                that._timerId = 1;\r\n                that._loop()\r\n            }), 0)\r\n        }\r\n    },\r\n    animateElement: function(elem, params, options) {\r\n        if (elem && params && options) {\r\n            elem.animation && elem.animation.stop();\r\n            this.addAnimation(elem.animation = new Animation(elem, params, options))\r\n        }\r\n    },\r\n    onEndAnimation: function(endAnimation) {\r\n        this._animationCount ? this._endAnimation = endAnimation : endAnimation()\r\n    },\r\n    dispose: function() {\r\n        this.stop();\r\n        this.element = null\r\n    },\r\n    stop: function() {\r\n        this._animations = {};\r\n        this._animationCount = 0;\r\n        cancelAnimationFrame(this._timerId);\r\n        clearTimeout(this._startDelay);\r\n        clearTimeout(this._endAnimationTimer);\r\n        this._timerId = null\r\n    },\r\n    lock: function() {\r\n        var an;\r\n        var animations = this._animations;\r\n        var unstoppable;\r\n        var hasUnstoppableInAnimations;\r\n        for (an in animations) {\r\n            unstoppable = animations[an].options.unstoppable;\r\n            hasUnstoppableInAnimations = hasUnstoppableInAnimations || unstoppable;\r\n            if (!unstoppable) {\r\n                animations[an].stop(true);\r\n                delete animations[an]\r\n            }\r\n        }!hasUnstoppableInAnimations && this.stop()\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}