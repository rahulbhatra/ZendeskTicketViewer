{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/toolbar/ui.toolbar.strategy.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport { noop } from \"../../core/utils/common\";\nimport { each } from \"../../core/utils/iterator\";\nimport { compileGetter } from \"../../core/utils/data\";\nimport Class from \"../../core/class\";\nvar abstract = Class.abstract;\nvar TOOLBAR_MENU_CONTAINER_CLASS = \"dx-toolbar-menu-container\";\nvar ToolbarStrategy = Class.inherit({\n  ctor: function (toolbar) {\n    this._toolbar = toolbar;\n  },\n  _widgetOptions: function () {\n    var itemClickAction = this._toolbar._createActionByOption(\"onItemClick\");\n\n    return {\n      itemTemplate: this._getMenuItemTemplate.bind(this),\n      onItemClick: function (e) {\n        this._toolbar.option(\"overflowMenuVisible\", false);\n\n        itemClickAction(e);\n      }.bind(this)\n    };\n  },\n  _getMenuItemTemplate: function () {\n    return this._toolbar._getTemplateByOption(\"menuItemTemplate\");\n  },\n  _renderWidget: function () {\n    var $menu = $(\"<div>\").appendTo(this._menuContainer());\n    this._menu = this._toolbar._createComponent($menu, this._menuWidget(), this._widgetOptions());\n    this.renderMenuItems();\n  },\n  _menuContainer: abstract,\n  _menuWidget: abstract,\n  _hasVisibleMenuItems: function (items) {\n    var menuItems = items || this._toolbar.option(\"items\");\n\n    var result = false;\n    var optionGetter = compileGetter(\"visible\");\n    var overflowGetter = compileGetter(\"locateInMenu\");\n    each(menuItems, function (index, item) {\n      var itemVisible = optionGetter(item, {\n        functionsAsIs: true\n      });\n      var itemOverflow = overflowGetter(item, {\n        functionsAsIs: true\n      });\n\n      if (false !== itemVisible && (\"auto\" === itemOverflow || \"always\" === itemOverflow) || \"menu\" === item.location) {\n        result = true;\n      }\n    });\n    return result;\n  },\n  _getMenuItems: function () {\n    return this._toolbar._getMenuItems();\n  },\n  _updateMenuVisibility: noop,\n  _renderMenuButtonContainer: function () {\n    var $afterSection = this._toolbar._$afterSection;\n    this._$menuButtonContainer = $(\"<div>\").appendTo($afterSection).addClass(this._toolbar._buttonClass()).addClass(TOOLBAR_MENU_CONTAINER_CLASS);\n  },\n  renderMenuItems: function () {\n    this._menu && this._menu.option(\"items\", this._getMenuItems());\n  },\n  widgetOption: function (name, value) {\n    this._menu && this._menu.option(name, value);\n  }\n});\nexport default ToolbarStrategy;","map":{"version":3,"sources":["/Users/rahulsharma/node_modules/devextreme/esm/ui/toolbar/ui.toolbar.strategy.js"],"names":["$","noop","each","compileGetter","Class","abstract","TOOLBAR_MENU_CONTAINER_CLASS","ToolbarStrategy","inherit","ctor","toolbar","_toolbar","_widgetOptions","itemClickAction","_createActionByOption","itemTemplate","_getMenuItemTemplate","bind","onItemClick","e","option","_getTemplateByOption","_renderWidget","$menu","appendTo","_menuContainer","_menu","_createComponent","_menuWidget","renderMenuItems","_hasVisibleMenuItems","items","menuItems","result","optionGetter","overflowGetter","index","item","itemVisible","functionsAsIs","itemOverflow","location","_getMenuItems","_updateMenuVisibility","_renderMenuButtonContainer","$afterSection","_$afterSection","_$menuButtonContainer","addClass","_buttonClass","widgetOption","name","value"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/toolbar/ui.toolbar.strategy.js)\r\n * Version: 21.2.3\r\n * Build date: Thu Oct 28 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport Class from \"../../core/class\";\r\nvar abstract = Class.abstract;\r\nvar TOOLBAR_MENU_CONTAINER_CLASS = \"dx-toolbar-menu-container\";\r\nvar ToolbarStrategy = Class.inherit({\r\n    ctor: function(toolbar) {\r\n        this._toolbar = toolbar\r\n    },\r\n    _widgetOptions: function() {\r\n        var itemClickAction = this._toolbar._createActionByOption(\"onItemClick\");\r\n        return {\r\n            itemTemplate: this._getMenuItemTemplate.bind(this),\r\n            onItemClick: function(e) {\r\n                this._toolbar.option(\"overflowMenuVisible\", false);\r\n                itemClickAction(e)\r\n            }.bind(this)\r\n        }\r\n    },\r\n    _getMenuItemTemplate: function() {\r\n        return this._toolbar._getTemplateByOption(\"menuItemTemplate\")\r\n    },\r\n    _renderWidget: function() {\r\n        var $menu = $(\"<div>\").appendTo(this._menuContainer());\r\n        this._menu = this._toolbar._createComponent($menu, this._menuWidget(), this._widgetOptions());\r\n        this.renderMenuItems()\r\n    },\r\n    _menuContainer: abstract,\r\n    _menuWidget: abstract,\r\n    _hasVisibleMenuItems: function(items) {\r\n        var menuItems = items || this._toolbar.option(\"items\");\r\n        var result = false;\r\n        var optionGetter = compileGetter(\"visible\");\r\n        var overflowGetter = compileGetter(\"locateInMenu\");\r\n        each(menuItems, (function(index, item) {\r\n            var itemVisible = optionGetter(item, {\r\n                functionsAsIs: true\r\n            });\r\n            var itemOverflow = overflowGetter(item, {\r\n                functionsAsIs: true\r\n            });\r\n            if (false !== itemVisible && (\"auto\" === itemOverflow || \"always\" === itemOverflow) || \"menu\" === item.location) {\r\n                result = true\r\n            }\r\n        }));\r\n        return result\r\n    },\r\n    _getMenuItems: function() {\r\n        return this._toolbar._getMenuItems()\r\n    },\r\n    _updateMenuVisibility: noop,\r\n    _renderMenuButtonContainer: function() {\r\n        var $afterSection = this._toolbar._$afterSection;\r\n        this._$menuButtonContainer = $(\"<div>\").appendTo($afterSection).addClass(this._toolbar._buttonClass()).addClass(TOOLBAR_MENU_CONTAINER_CLASS)\r\n    },\r\n    renderMenuItems: function() {\r\n        this._menu && this._menu.option(\"items\", this._getMenuItems())\r\n    },\r\n    widgetOption: function(name, value) {\r\n        this._menu && this._menu.option(name, value)\r\n    }\r\n});\r\nexport default ToolbarStrategy;\r\n"]},"metadata":{},"sourceType":"module"}